(function(de,f){typeof exports=="object"&&typeof module<"u"?f(exports,require("react/jsx-runtime"),require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","react-dom"],f):(de=typeof globalThis<"u"?globalThis:de||self,f(de.ReactDynamicFormsTables={},de.jsxRuntime,de.React,de.ReactDOM))})(this,function(de,f,h,ls){"use strict";function os(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const b=os(h);var Tt=e=>e.type==="checkbox",nt=e=>e instanceof Date,me=e=>e==null;const bn=e=>typeof e=="object";var ne=e=>!me(e)&&!Array.isArray(e)&&bn(e)&&!nt(e),us=e=>ne(e)&&e.target?Tt(e.target)?e.target.checked:e.target.value:e,ds=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,cs=(e,t)=>e.has(ds(t)),fs=e=>{const t=e.constructor&&e.constructor.prototype;return ne(t)&&t.hasOwnProperty("isPrototypeOf")},kr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fe(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(kr&&(e instanceof Blob||n))&&(r||ne(e)))if(t=r?[]:{},!r&&!fs(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=fe(e[a]));else return e;return t}var Yt=e=>Array.isArray(e)?e.filter(Boolean):[],ae=e=>e===void 0,j=(e,t,r)=>{if(!t||!ne(e))return r;const n=Yt(t.split(/[,[\].]+?/)).reduce((a,s)=>me(a)?a:a[s],e);return ae(n)||n===e?ae(e[t])?r:e[t]:n},Oe=e=>typeof e=="boolean",Er=e=>/^\w*$/.test(e),wn=e=>Yt(e.replace(/["|']|\]/g,"").split(/\.|\[/)),R=(e,t,r)=>{let n=-1;const a=Er(t)?[t]:wn(t),s=a.length,i=s-1;for(;++n<s;){const l=a[n];let o=r;if(n!==i){const u=e[l];o=ne(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=o,e=e[l]}};const xn={BLUR:"blur",FOCUS_OUT:"focusout"},Ne={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Me={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};h.createContext(null);var hs=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const i=s;return t._proxyFormState[i]!==Ne.all&&(t._proxyFormState[i]=!n||Ne.all),e[i]}});return a};const ms=typeof window<"u"?b.useLayoutEffect:b.useEffect;var $e=e=>typeof e=="string",ps=(e,t,r,n,a)=>$e(e)?(n&&t.watch.add(e),j(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),j(r,s))):(n&&(t.watchAll=!0),r),_n=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Ft=e=>Array.isArray(e)?e:[e],kn=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},Cr=e=>me(e)||!bn(e);function qe(e,t){if(Cr(e)||Cr(t))return e===t;if(nt(e)&&nt(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const s=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const i=t[a];if(nt(s)&&nt(i)||ne(s)&&ne(i)||Array.isArray(s)&&Array.isArray(i)?!qe(s,i):s!==i)return!1}}return!0}var pe=e=>ne(e)&&!Object.keys(e).length,Sr=e=>e.type==="file",Te=e=>typeof e=="function",Gt=e=>{if(!kr)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},En=e=>e.type==="select-multiple",Nr=e=>e.type==="radio",gs=e=>Nr(e)||Tt(e),Tr=e=>Gt(e)&&e.isConnected;function vs(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ae(e)?n++:e[t[n++]];return e}function ys(e){for(const t in e)if(e.hasOwnProperty(t)&&!ae(e[t]))return!1;return!0}function le(e,t){const r=Array.isArray(t)?t:Er(t)?[t]:wn(t),n=r.length===1?e:vs(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(ne(n)&&pe(n)||Array.isArray(n)&&ys(n))&&le(e,r.slice(0,-1)),e}var Cn=e=>{for(const t in e)if(Te(e[t]))return!0;return!1};function Jt(e,t={}){const r=Array.isArray(e);if(ne(e)||r)for(const n in e)Array.isArray(e[n])||ne(e[n])&&!Cn(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Jt(e[n],t[n])):me(e[n])||(t[n]=!0);return t}function Sn(e,t,r){const n=Array.isArray(e);if(ne(e)||n)for(const a in e)Array.isArray(e[a])||ne(e[a])&&!Cn(e[a])?ae(t)||Cr(r[a])?r[a]=Array.isArray(e[a])?Jt(e[a],[]):{...Jt(e[a])}:Sn(e[a],me(t)?{}:t[a],r[a]):r[a]=!qe(e[a],t[a]);return r}var At=(e,t)=>Sn(e,t,Jt(t));const Nn={value:!1,isValid:!1},Tn={value:!0,isValid:!0};var Fn=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ae(e[0].attributes.value)?ae(e[0].value)||e[0].value===""?Tn:{value:e[0].value,isValid:!0}:Tn:Nn}return Nn},An=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ae(e)?e:t?e===""?NaN:e&&+e:r&&$e(e)?new Date(e):n?n(e):e;const On={isValid:!1,value:null};var $n=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,On):On;function Ln(e){const t=e.ref;return Sr(t)?t.files:Nr(t)?$n(e.refs).value:En(t)?[...t.selectedOptions].map(({value:r})=>r):Tt(t)?Fn(e.refs).value:An(ae(t.value)?e.ref.value:t.value,e)}var bs=(e,t,r,n)=>{const a={};for(const s of e){const i=j(t,s);i&&R(a,s,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Kt=e=>e instanceof RegExp,Ot=e=>ae(e)?e:Kt(e)?e.source:ne(e)?Kt(e.value)?e.value.source:e.value:e,Pn=e=>({isOnSubmit:!e||e===Ne.onSubmit,isOnBlur:e===Ne.onBlur,isOnChange:e===Ne.onChange,isOnAll:e===Ne.all,isOnTouch:e===Ne.onTouched});const Dn="AsyncFunction";var ws=e=>!!e&&!!e.validate&&!!(Te(e.validate)&&e.validate.constructor.name===Dn||ne(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Dn)),xs=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),In=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const $t=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=j(e,a);if(s){const{_f:i,...l}=s;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if($t(l,t))break}else if(ne(l)&&$t(l,t))break}}};function Mn(e,t,r){const n=j(e,r);if(n||Er(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=j(t,s),l=j(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var _s=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return pe(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(i=>t[i]===(!n||Ne.all))},ks=(e,t,r)=>!e||!t||e===t||Ft(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Es=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Cs=(e,t)=>!Yt(j(e,t)).length&&le(e,t),Ss=(e,t,r)=>{const n=Ft(j(e,r));return R(n,"root",t[r]),R(e,r,n),e},Xt=e=>$e(e);function Vn(e,t,r="validate"){if(Xt(e)||Array.isArray(e)&&e.every(Xt)||Oe(e)&&!e)return{type:r,message:Xt(e)?e:"",ref:t}}var mt=e=>ne(e)&&!Kt(e)?e:{value:e,message:""},jn=async(e,t,r,n,a,s)=>{const{ref:i,refs:l,required:o,maxLength:u,minLength:d,min:p,max:y,pattern:N,validate:E,name:_,valueAsNumber:S,mount:m}=e._f,g=j(r,_);if(!m||t.has(_))return{};const w=l?l[0]:i,A=M=>{a&&w.reportValidity&&(w.setCustomValidity(Oe(M)?"":M||""),w.reportValidity())},V={},k=Nr(i),O=Tt(i),C=k||O,$=(S||Sr(i))&&ae(i.value)&&ae(g)||Gt(i)&&i.value===""||g===""||Array.isArray(g)&&!g.length,L=_n.bind(null,_,n,V),Z=(M,W,K,X=Me.maxLength,oe=Me.minLength)=>{const ue=M?W:K;V[_]={type:M?X:oe,message:ue,ref:i,...L(M?X:oe,ue)}};if(s?!Array.isArray(g)||!g.length:o&&(!C&&($||me(g))||Oe(g)&&!g||O&&!Fn(l).isValid||k&&!$n(l).isValid)){const{value:M,message:W}=Xt(o)?{value:!!o,message:o}:mt(o);if(M&&(V[_]={type:Me.required,message:W,ref:w,...L(Me.required,W)},!n))return A(W),V}if(!$&&(!me(p)||!me(y))){let M,W;const K=mt(y),X=mt(p);if(!me(g)&&!isNaN(g)){const oe=i.valueAsNumber||g&&+g;me(K.value)||(M=oe>K.value),me(X.value)||(W=oe<X.value)}else{const oe=i.valueAsDate||new Date(g),ue=Ae=>new Date(new Date().toDateString()+" "+Ae),Pe=i.type=="time",De=i.type=="week";$e(K.value)&&g&&(M=Pe?ue(g)>ue(K.value):De?g>K.value:oe>new Date(K.value)),$e(X.value)&&g&&(W=Pe?ue(g)<ue(X.value):De?g<X.value:oe<new Date(X.value))}if((M||W)&&(Z(!!M,K.message,X.message,Me.max,Me.min),!n))return A(V[_].message),V}if((u||d)&&!$&&($e(g)||s&&Array.isArray(g))){const M=mt(u),W=mt(d),K=!me(M.value)&&g.length>+M.value,X=!me(W.value)&&g.length<+W.value;if((K||X)&&(Z(K,M.message,W.message),!n))return A(V[_].message),V}if(N&&!$&&$e(g)){const{value:M,message:W}=mt(N);if(Kt(M)&&!g.match(M)&&(V[_]={type:Me.pattern,message:W,ref:i,...L(Me.pattern,W)},!n))return A(W),V}if(E){if(Te(E)){const M=await E(g,r),W=Vn(M,w);if(W&&(V[_]={...W,...L(Me.validate,W.message)},!n))return A(W.message),V}else if(ne(E)){let M={};for(const W in E){if(!pe(M)&&!n)break;const K=Vn(await E[W](g,r),w,W);K&&(M={...K,...L(W,K.message)},A(K.message),n&&(V[_]=M))}if(!pe(M)&&(V[_]={ref:w,...M},!n))return V}}return A(!0),V};const Ns={mode:Ne.onSubmit,reValidateMode:Ne.onChange,shouldFocusError:!0};function Ts(e={}){let t={...Ns,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Te(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=ne(t.defaultValues)||ne(t.values)?fe(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:fe(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},o,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...d};const y={array:kn(),state:kn()},N=t.criteriaMode===Ne.all,E=c=>v=>{clearTimeout(u),u=setTimeout(c,v)},_=async c=>{if(!t.disabled&&(d.isValid||p.isValid||c)){const v=t.resolver?pe((await O()).errors):await $(n,!0);v!==r.isValid&&y.state.next({isValid:v})}},S=(c,v)=>{!t.disabled&&(d.isValidating||d.validatingFields||p.isValidating||p.validatingFields)&&((c||Array.from(l.mount)).forEach(x=>{x&&(v?R(r.validatingFields,x,v):le(r.validatingFields,x))}),y.state.next({validatingFields:r.validatingFields,isValidating:!pe(r.validatingFields)}))},m=(c,v=[],x,I,P=!0,F=!0)=>{if(I&&x&&!t.disabled){if(i.action=!0,F&&Array.isArray(j(n,c))){const z=x(j(n,c),I.argA,I.argB);P&&R(n,c,z)}if(F&&Array.isArray(j(r.errors,c))){const z=x(j(r.errors,c),I.argA,I.argB);P&&R(r.errors,c,z),Cs(r.errors,c)}if((d.touchedFields||p.touchedFields)&&F&&Array.isArray(j(r.touchedFields,c))){const z=x(j(r.touchedFields,c),I.argA,I.argB);P&&R(r.touchedFields,c,z)}(d.dirtyFields||p.dirtyFields)&&(r.dirtyFields=At(a,s)),y.state.next({name:c,isDirty:Z(c,v),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else R(s,c,v)},g=(c,v)=>{R(r.errors,c,v),y.state.next({errors:r.errors})},w=c=>{r.errors=c,y.state.next({errors:r.errors,isValid:!1})},A=(c,v,x,I)=>{const P=j(n,c);if(P){const F=j(s,c,ae(x)?j(a,c):x);ae(F)||I&&I.defaultChecked||v?R(s,c,v?F:Ln(P._f)):K(c,F),i.mount&&_()}},V=(c,v,x,I,P)=>{let F=!1,z=!1;const Q={name:c};if(!t.disabled){if(!x||I){(d.isDirty||p.isDirty)&&(z=r.isDirty,r.isDirty=Q.isDirty=Z(),F=z!==Q.isDirty);const ee=qe(j(a,c),v);z=!!j(r.dirtyFields,c),ee?le(r.dirtyFields,c):R(r.dirtyFields,c,!0),Q.dirtyFields=r.dirtyFields,F=F||(d.dirtyFields||p.dirtyFields)&&z!==!ee}if(x){const ee=j(r.touchedFields,c);ee||(R(r.touchedFields,c,x),Q.touchedFields=r.touchedFields,F=F||(d.touchedFields||p.touchedFields)&&ee!==x)}F&&P&&y.state.next(Q)}return F?Q:{}},k=(c,v,x,I)=>{const P=j(r.errors,c),F=(d.isValid||p.isValid)&&Oe(v)&&r.isValid!==v;if(t.delayError&&x?(o=E(()=>g(c,x)),o(t.delayError)):(clearTimeout(u),o=null,x?R(r.errors,c,x):le(r.errors,c)),(x?!qe(P,x):P)||!pe(I)||F){const z={...I,...F&&Oe(v)?{isValid:v}:{},errors:r.errors,name:c};r={...r,...z},y.state.next(z)}},O=async c=>{S(c,!0);const v=await t.resolver(s,t.context,bs(c||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return S(c),v},C=async c=>{const{errors:v}=await O(c);if(c)for(const x of c){const I=j(v,x);I?R(r.errors,x,I):le(r.errors,x)}else r.errors=v;return v},$=async(c,v,x={valid:!0})=>{for(const I in c){const P=c[I];if(P){const{_f:F,...z}=P;if(F){const Q=l.array.has(F.name),ee=P._f&&ws(P._f);ee&&d.validatingFields&&S([I],!0);const Se=await jn(P,l.disabled,s,N,t.shouldUseNativeValidation&&!v,Q);if(ee&&d.validatingFields&&S([I]),Se[F.name]&&(x.valid=!1,v))break;!v&&(j(Se,F.name)?Q?Ss(r.errors,Se,F.name):R(r.errors,F.name,Se[F.name]):le(r.errors,F.name))}!pe(z)&&await $(z,v,x)}}return x.valid},L=()=>{for(const c of l.unMount){const v=j(n,c);v&&(v._f.refs?v._f.refs.every(x=>!Tr(x)):!Tr(v._f.ref))&&Ht(c)}l.unMount=new Set},Z=(c,v)=>!t.disabled&&(c&&v&&R(s,c,v),!qe(Ae(),a)),M=(c,v,x)=>ps(c,l,{...i.mount?s:ae(v)?a:$e(c)?{[c]:v}:v},x,v),W=c=>Yt(j(i.mount?s:a,c,t.shouldUnregister?j(a,c,[]):[])),K=(c,v,x={})=>{const I=j(n,c);let P=v;if(I){const F=I._f;F&&(!F.disabled&&R(s,c,An(v,F)),P=Gt(F.ref)&&me(v)?"":v,En(F.ref)?[...F.ref.options].forEach(z=>z.selected=P.includes(z.value)):F.refs?Tt(F.ref)?F.refs.forEach(z=>{(!z.defaultChecked||!z.disabled)&&(Array.isArray(P)?z.checked=!!P.find(Q=>Q===z.value):z.checked=P===z.value||!!P)}):F.refs.forEach(z=>z.checked=z.value===P):Sr(F.ref)?F.ref.value="":(F.ref.value=P,F.ref.type||y.state.next({name:c,values:fe(s)})))}(x.shouldDirty||x.shouldTouch)&&V(c,P,x.shouldTouch,x.shouldDirty,!0),x.shouldValidate&&De(c)},X=(c,v,x)=>{for(const I in v){if(!v.hasOwnProperty(I))return;const P=v[I],F=c+"."+I,z=j(n,F);(l.array.has(c)||ne(P)||z&&!z._f)&&!nt(P)?X(F,P,x):K(F,P,x)}},oe=(c,v,x={})=>{const I=j(n,c),P=l.array.has(c),F=fe(v);R(s,c,F),P?(y.array.next({name:c,values:fe(s)}),(d.isDirty||d.dirtyFields||p.isDirty||p.dirtyFields)&&x.shouldDirty&&y.state.next({name:c,dirtyFields:At(a,s),isDirty:Z(c,F)})):I&&!I._f&&!me(F)?X(c,F,x):K(c,F,x),In(c,l)&&y.state.next({...r}),y.state.next({name:i.mount?c:void 0,values:fe(s)})},ue=async c=>{i.mount=!0;const v=c.target;let x=v.name,I=!0;const P=j(n,x),F=ee=>{I=Number.isNaN(ee)||nt(ee)&&isNaN(ee.getTime())||qe(ee,j(s,x,ee))},z=Pn(t.mode),Q=Pn(t.reValidateMode);if(P){let ee,Se;const _r=v.type?Ln(P._f):us(c),rt=c.type===xn.BLUR||c.type===xn.FOCUS_OUT,Ru=!xs(P._f)&&!t.resolver&&!j(r.errors,x)&&!P._f.deps||Es(rt,j(r.touchedFields,x),r.isSubmitted,Q,z),vn=In(x,l,rt);R(s,x,_r),rt?(P._f.onBlur&&P._f.onBlur(c),o&&o(0)):P._f.onChange&&P._f.onChange(c);const yn=V(x,_r,rt),ed=!pe(yn)||vn;if(!rt&&y.state.next({name:x,type:c.type,values:fe(s)}),Ru)return(d.isValid||p.isValid)&&(t.mode==="onBlur"?rt&&_():rt||_()),ed&&y.state.next({name:x,...vn?{}:yn});if(!rt&&vn&&y.state.next({...r}),t.resolver){const{errors:ss}=await O([x]);if(F(_r),I){const td=Mn(r.errors,n,x),is=Mn(ss,n,td.name||x);ee=is.error,x=is.name,Se=pe(ss)}}else S([x],!0),ee=(await jn(P,l.disabled,s,N,t.shouldUseNativeValidation))[x],S([x]),F(_r),I&&(ee?Se=!1:(d.isValid||p.isValid)&&(Se=await $(n,!0)));I&&(P._f.deps&&De(P._f.deps),k(x,Se,ee,yn))}},Pe=(c,v)=>{if(j(r.errors,v)&&c.focus)return c.focus(),1},De=async(c,v={})=>{let x,I;const P=Ft(c);if(t.resolver){const F=await C(ae(c)?c:P);x=pe(F),I=c?!P.some(z=>j(F,z)):x}else c?(I=(await Promise.all(P.map(async F=>{const z=j(n,F);return await $(z&&z._f?{[F]:z}:z)}))).every(Boolean),!(!I&&!r.isValid)&&_()):I=x=await $(n);return y.state.next({...!$e(c)||(d.isValid||p.isValid)&&x!==r.isValid?{}:{name:c},...t.resolver||!c?{isValid:x}:{},errors:r.errors}),v.shouldFocus&&!I&&$t(n,Pe,c?P:l.mount),I},Ae=c=>{const v={...i.mount?s:a};return ae(c)?v:$e(c)?j(v,c):c.map(x=>j(v,x))},tt=(c,v)=>({invalid:!!j((v||r).errors,c),isDirty:!!j((v||r).dirtyFields,c),error:j((v||r).errors,c),isValidating:!!j(r.validatingFields,c),isTouched:!!j((v||r).touchedFields,c)}),Ie=c=>{c&&Ft(c).forEach(v=>le(r.errors,v)),y.state.next({errors:c?r.errors:{}})},Wt=(c,v,x)=>{const I=(j(n,c,{_f:{}})._f||{}).ref,P=j(r.errors,c)||{},{ref:F,message:z,type:Q,...ee}=P;R(r.errors,c,{...ee,...v,ref:I}),y.state.next({name:c,errors:r.errors,isValid:!1}),x&&x.shouldFocus&&I&&I.focus&&I.focus()},Ee=(c,v)=>Te(c)?y.state.subscribe({next:x=>c(M(void 0,v),x)}):M(c,v,!0),pn=c=>y.state.subscribe({next:v=>{ks(c.name,v.name,c.exact)&&_s(v,c.formState||d,Qu,c.reRenderRoot)&&c.callback({values:{...s},...r,...v})}}).unsubscribe,gn=c=>(i.mount=!0,p={...p,...c.formState},pn({...c,formState:p})),Ht=(c,v={})=>{for(const x of c?Ft(c):l.mount)l.mount.delete(x),l.array.delete(x),v.keepValue||(le(n,x),le(s,x)),!v.keepError&&le(r.errors,x),!v.keepDirty&&le(r.dirtyFields,x),!v.keepTouched&&le(r.touchedFields,x),!v.keepIsValidating&&le(r.validatingFields,x),!t.shouldUnregister&&!v.keepDefaultValue&&le(a,x);y.state.next({values:fe(s)}),y.state.next({...r,...v.keepDirty?{isDirty:Z()}:{}}),!v.keepIsValid&&_()},xr=({disabled:c,name:v})=>{(Oe(c)&&i.mount||c||l.disabled.has(v))&&(c?l.disabled.add(v):l.disabled.delete(v))},Nt=(c,v={})=>{let x=j(n,c);const I=Oe(v.disabled)||Oe(t.disabled);return R(n,c,{...x||{},_f:{...x&&x._f?x._f:{ref:{name:c}},name:c,mount:!0,...v}}),l.mount.add(c),x?xr({disabled:Oe(v.disabled)?v.disabled:t.disabled,name:c}):A(c,!0,v.value),{...I?{disabled:v.disabled||t.disabled}:{},...t.progressive?{required:!!v.required,min:Ot(v.min),max:Ot(v.max),minLength:Ot(v.minLength),maxLength:Ot(v.maxLength),pattern:Ot(v.pattern)}:{},name:c,onChange:ue,onBlur:ue,ref:P=>{if(P){Nt(c,v),x=j(n,c);const F=ae(P.value)&&P.querySelectorAll&&P.querySelectorAll("input,select,textarea")[0]||P,z=gs(F),Q=x._f.refs||[];if(z?Q.find(ee=>ee===F):F===x._f.ref)return;R(n,c,{_f:{...x._f,...z?{refs:[...Q.filter(Tr),F,...Array.isArray(j(a,c))?[{}]:[]],ref:{type:F.type,name:c}}:{ref:F}}}),A(c,!1,void 0,F)}else x=j(n,c,{}),x._f&&(x._f.mount=!1),(t.shouldUnregister||v.shouldUnregister)&&!(cs(l.array,c)&&i.action)&&l.unMount.add(c)}}},qt=()=>t.shouldFocusError&&$t(n,Pe,l.mount),re=c=>{Oe(c)&&(y.state.next({disabled:c}),$t(n,(v,x)=>{const I=j(n,x);I&&(v.disabled=I._f.disabled||c,Array.isArray(I._f.refs)&&I._f.refs.forEach(P=>{P.disabled=I._f.disabled||c}))},0,!1))},Ce=(c,v)=>async x=>{let I;x&&(x.preventDefault&&x.preventDefault(),x.persist&&x.persist());let P=fe(s);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:F,values:z}=await O();r.errors=F,P=z}else await $(n);if(l.disabled.size)for(const F of l.disabled)R(P,F,void 0);if(le(r.errors,"root"),pe(r.errors)){y.state.next({errors:{}});try{await c(P,x)}catch(F){I=F}}else v&&await v({...r.errors},x),qt(),setTimeout(qt);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pe(r.errors)&&!I,submitCount:r.submitCount+1,errors:r.errors}),I)throw I},ge=(c,v={})=>{j(n,c)&&(ae(v.defaultValue)?oe(c,fe(j(a,c))):(oe(c,v.defaultValue),R(a,c,fe(v.defaultValue))),v.keepTouched||le(r.touchedFields,c),v.keepDirty||(le(r.dirtyFields,c),r.isDirty=v.defaultValue?Z(c,fe(j(a,c))):Z()),v.keepError||(le(r.errors,c),d.isValid&&_()),y.state.next({...r}))},ht=(c,v={})=>{const x=c?fe(c):a,I=fe(x),P=pe(c),F=P?a:I;if(v.keepDefaultValues||(a=x),!v.keepValues){if(v.keepDirtyValues){const z=new Set([...l.mount,...Object.keys(At(a,s))]);for(const Q of Array.from(z))j(r.dirtyFields,Q)?R(F,Q,j(s,Q)):oe(Q,j(F,Q))}else{if(kr&&ae(c))for(const z of l.mount){const Q=j(n,z);if(Q&&Q._f){const ee=Array.isArray(Q._f.refs)?Q._f.refs[0]:Q._f.ref;if(Gt(ee)){const Se=ee.closest("form");if(Se){Se.reset();break}}}}for(const z of l.mount)oe(z,j(F,z))}s=fe(F),y.array.next({values:{...F}}),y.state.next({values:{...F}})}l={mount:v.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!v.keepIsValid||!!v.keepDirtyValues,i.watch=!!t.shouldUnregister,y.state.next({submitCount:v.keepSubmitCount?r.submitCount:0,isDirty:P?!1:v.keepDirty?r.isDirty:!!(v.keepDefaultValues&&!qe(c,a)),isSubmitted:v.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:P?{}:v.keepDirtyValues?v.keepDefaultValues&&s?At(a,s):r.dirtyFields:v.keepDefaultValues&&c?At(a,c):v.keepDirty?r.dirtyFields:{},touchedFields:v.keepTouched?r.touchedFields:{},errors:v.keepErrors?r.errors:{},isSubmitSuccessful:v.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ns=(c,v)=>ht(Te(c)?c(s):c,v),Xu=(c,v={})=>{const x=j(n,c),I=x&&x._f;if(I){const P=I.refs?I.refs[0]:I.ref;P.focus&&(P.focus(),v.shouldSelect&&Te(P.select)&&P.select())}},Qu=c=>{r={...r,...c}},as={control:{register:Nt,unregister:Ht,getFieldState:tt,handleSubmit:Ce,setError:Wt,_subscribe:pn,_runSchema:O,_focusError:qt,_getWatch:M,_getDirty:Z,_setValid:_,_setFieldArray:m,_setDisabledField:xr,_setErrors:w,_getFieldArray:W,_reset:ht,_resetDefaultValues:()=>Te(t.defaultValues)&&t.defaultValues().then(c=>{ns(c,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:re,_subjects:y,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return i},set _state(c){i=c},get _defaultValues(){return a},get _names(){return l},set _names(c){l=c},get _formState(){return r},get _options(){return t},set _options(c){t={...t,...c}}},subscribe:gn,trigger:De,register:Nt,handleSubmit:Ce,watch:Ee,setValue:oe,getValues:Ae,reset:ns,resetField:ge,clearErrors:Ie,unregister:Ht,setError:Wt,setFocus:Xu,getFieldState:tt};return{...as,formControl:as}}function Fs(e={}){const t=h.useRef(void 0),r=h.useRef(void 0),[n,a]=h.useState({isDirty:!1,isValidating:!1,isLoading:Te(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Te(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Ts(e),formState:n},e.formControl&&e.defaultValues&&!Te(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,ms(()=>{const i=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,i},[s]),h.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),h.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),h.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),h.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),h.useEffect(()=>{if(s._proxyFormState.isDirty){const i=s._getDirty();i!==n.isDirty&&s._subjects.state.next({isDirty:i})}},[s,n.isDirty]),h.useEffect(()=>{e.values&&!qe(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,a(i=>({...i}))):s._resetDefaultValues()},[s,e.values]),h.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=hs(n,s),t.current}const Bn=(e,t,r)=>{if(e&&"reportValidity"in e){const n=j(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Un=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Bn(n.ref,r,e):n.refs&&n.refs.forEach(a=>Bn(a,r,e))}},As=(e,t)=>{t.shouldUseNativeValidation&&Un(e,t);const r={};for(const n in e){const a=j(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(Os(t.names||Object.keys(e),n)){const i=Object.assign({},j(r,n));R(i,"root",s),R(r,n,i)}else R(r,n,s)}return r},Os=(e,t)=>e.some(r=>r.startsWith(t+"."));var $s=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(p){return e.push(p)})}),t){var o=r[i].types,u=o&&o[n.code];r[i]=_n(i,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Ls=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(i,l){try{var o=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&Un({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return o&&o.then?o.then(void 0,l):o}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:As($s(i.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw i}))}catch(i){return Promise.reject(i)}}},J;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),i={};for(const l of s)i[l]=a[l];return e.objectValues(i)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},e.find=(a,s)=>{for(const i of a)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(J||(J={}));var Zn;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Zn||(Zn={}));const B=J.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ye=e=>{switch(typeof e){case"undefined":return B.undefined;case"string":return B.string;case"number":return Number.isNaN(e)?B.nan:B.number;case"boolean":return B.boolean;case"function":return B.function;case"bigint":return B.bigint;case"symbol":return B.symbol;case"object":return Array.isArray(e)?B.array:e===null?B.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?B.promise:typeof Map<"u"&&e instanceof Map?B.map:typeof Set<"u"&&e instanceof Set?B.set:typeof Date<"u"&&e instanceof Date?B.date:B.object;default:return B.unknown}},T=J.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ve extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,o=0;for(;o<i.path.length;){const u=i.path[o];o===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],o++}}};return a(this),n}static assert(t){if(!(t instanceof Ve))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,J.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ve.create=e=>new Ve(e);const Fr=(e,t)=>{let r;switch(e.code){case T.invalid_type:e.received===B.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case T.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,J.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:r=`Unrecognized key(s) in object: ${J.joinValues(e.keys,", ")}`;break;case T.invalid_union:r="Invalid input";break;case T.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${J.joinValues(e.options)}`;break;case T.invalid_enum_value:r=`Invalid enum value. Expected ${J.joinValues(e.options)}, received '${e.received}'`;break;case T.invalid_arguments:r="Invalid function arguments";break;case T.invalid_return_type:r="Invalid function return type";break;case T.invalid_date:r="Invalid date";break;case T.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:J.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case T.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case T.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case T.custom:r="Invalid input";break;case T.invalid_intersection_types:r="Intersection results could not be merged";break;case T.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case T.not_finite:r="Number must be finite";break;default:r=t.defaultError,J.assertNever(e)}return{message:r}};let Ps=Fr;function Ds(){return Ps}const Is=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],i={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const o=n.filter(u=>!!u).slice().reverse();for(const u of o)l=u(i,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function D(e,t){const r=Ds(),n=Is({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Fr?void 0:Fr].filter(a=>!!a)});e.common.issues.push(n)}class ve{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return H;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,i=await a.value;n.push({key:s,value:i})}return ve.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return H;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(n[s.value]=i.value)}return{status:t.value,value:n}}}const H=Object.freeze({status:"aborted"}),Lt=e=>({status:"dirty",value:e}),xe=e=>({status:"valid",value:e}),zn=e=>e.status==="aborted",Wn=e=>e.status==="dirty",pt=e=>e.status==="valid",Qt=e=>typeof Promise<"u"&&e instanceof Promise;var U;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(U||(U={}));class Ge{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Hn=(e,t)=>{if(pt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ve(e.common.issues);return this._error=r,this._error}}};function Y(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,l)=>{const{message:o}=e;return i.code==="invalid_enum_value"?{message:o??l.defaultError}:typeof l.data>"u"?{message:o??n??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:o??r??l.defaultError}},description:a}}class G{get description(){return this._def.description}_getType(t){return Ye(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ye(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ve,ctx:{common:t.parent.common,data:t.data,parsedType:Ye(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Qt(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ye(t)},a=this._parseSync({data:t,path:n.path,parent:n});return Hn(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ye(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return pt(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>pt(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ye(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(Qt(a)?a:Promise.resolve(a));return Hn(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const i=t(a),l=()=>s.addIssue({code:T.custom,...n(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(o=>o?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new bt({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ke.create(this,this._def)}nullable(){return wt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Le.create(this)}promise(){return rr.create(this,this._def)}or(t){return er.create([this,t],this._def)}and(t){return tr.create(this,t,this._def)}transform(t){return new bt({...Y(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new $r({...Y(this._def),innerType:this,defaultValue:r,typeName:q.ZodDefault})}brand(){return new si({typeName:q.ZodBranded,type:this,...Y(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Lr({...Y(this._def),innerType:this,catchValue:r,typeName:q.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Pr.create(this,t)}readonly(){return Dr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ms=/^c[^\s-]{8,}$/i,Vs=/^[0-9a-z]+$/,js=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Bs=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Us=/^[a-z0-9_-]{21}$/i,Zs=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,zs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ws=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hs="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ar;const qs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ys=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Gs=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Js=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ks=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Xs=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,qn="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Qs=new RegExp(`^${qn}$`);function Yn(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Rs(e){return new RegExp(`^${Yn(e)}$`)}function ei(e){let t=`${qn}T${Yn(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function ti(e,t){return!!((t==="v4"||!t)&&qs.test(e)||(t==="v6"||!t)&&Gs.test(e))}function ri(e,t){if(!Zs.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function ni(e,t){return!!((t==="v4"||!t)&&Ys.test(e)||(t==="v6"||!t)&&Js.test(e))}class je extends G{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==B.string){const s=this._getOrReturnCtx(t);return D(s,{code:T.invalid_type,expected:B.string,received:s.parsedType}),H}const n=new ve;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),D(a,{code:T.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),D(a,{code:T.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,l=t.data.length<s.value;(i||l)&&(a=this._getOrReturnCtx(t,a),i?D(a,{code:T.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&D(a,{code:T.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Ws.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"email",code:T.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Ar||(Ar=new RegExp(Hs,"u")),Ar.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"emoji",code:T.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Bs.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"uuid",code:T.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Us.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"nanoid",code:T.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Ms.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"cuid",code:T.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Vs.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"cuid2",code:T.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")js.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"ulid",code:T.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),D(a,{validation:"url",code:T.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"regex",code:T.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),D(a,{code:T.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),D(a,{code:T.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),D(a,{code:T.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?ei(s).test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{code:T.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Qs.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{code:T.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Rs(s).test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{code:T.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?zs.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"duration",code:T.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?ti(t.data,s.version)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"ip",code:T.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?ri(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"jwt",code:T.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?ni(t.data,s.version)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"cidr",code:T.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Ks.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"base64",code:T.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Xs.test(t.data)||(a=this._getOrReturnCtx(t,a),D(a,{validation:"base64url",code:T.invalid_string,message:s.message}),n.dirty()):J.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:T.invalid_string,...U.errToObj(n)})}_addCheck(t){return new je({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...U.errToObj(t)})}url(t){return this._addCheck({kind:"url",...U.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...U.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...U.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...U.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...U.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...U.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...U.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...U.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...U.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...U.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...U.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...U.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...U.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...U.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...U.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...U.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...U.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...U.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...U.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...U.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...U.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...U.errToObj(r)})}nonempty(t){return this.min(1,U.errToObj(t))}trim(){return new je({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new je({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new je({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}je.create=e=>new je({checks:[],typeName:q.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Y(e)});function ai(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),i=Number.parseInt(t.toFixed(a).replace(".",""));return s%i/10**a}class at extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==B.number){const s=this._getOrReturnCtx(t);return D(s,{code:T.invalid_type,expected:B.number,received:s.parsedType}),H}let n;const a=new ve;for(const s of this._def.checks)s.kind==="int"?J.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{code:T.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),D(n,{code:T.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),D(n,{code:T.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?ai(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),D(n,{code:T.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{code:T.not_finite,message:s.message}),a.dirty()):J.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,U.toString(r))}gt(t,r){return this.setLimit("min",t,!1,U.toString(r))}lte(t,r){return this.setLimit("max",t,!0,U.toString(r))}lt(t,r){return this.setLimit("max",t,!1,U.toString(r))}setLimit(t,r,n,a){return new at({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:U.toString(a)}]})}_addCheck(t){return new at({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:U.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:U.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:U.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:U.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:U.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:U.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:U.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:U.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:U.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&J.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}at.create=e=>new at({checks:[],typeName:q.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Y(e)});class st extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==B.bigint)return this._getInvalidInput(t);let n;const a=new ve;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),D(n,{code:T.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),D(n,{code:T.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),D(n,{code:T.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):J.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return D(r,{code:T.invalid_type,expected:B.bigint,received:r.parsedType}),H}gte(t,r){return this.setLimit("min",t,!0,U.toString(r))}gt(t,r){return this.setLimit("min",t,!1,U.toString(r))}lte(t,r){return this.setLimit("max",t,!0,U.toString(r))}lt(t,r){return this.setLimit("max",t,!1,U.toString(r))}setLimit(t,r,n,a){return new st({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:U.toString(a)}]})}_addCheck(t){return new st({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:U.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:U.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:U.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:U.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:U.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}st.create=e=>new st({checks:[],typeName:q.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Y(e)});class Rt extends G{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==B.boolean){const n=this._getOrReturnCtx(t);return D(n,{code:T.invalid_type,expected:B.boolean,received:n.parsedType}),H}return xe(t.data)}}Rt.create=e=>new Rt({typeName:q.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Y(e)});class gt extends G{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==B.date){const s=this._getOrReturnCtx(t);return D(s,{code:T.invalid_type,expected:B.date,received:s.parsedType}),H}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return D(s,{code:T.invalid_date}),H}const n=new ve;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),D(a,{code:T.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),D(a,{code:T.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):J.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new gt({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:U.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:U.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}gt.create=e=>new gt({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:q.ZodDate,...Y(e)});class Gn extends G{_parse(t){if(this._getType(t)!==B.symbol){const n=this._getOrReturnCtx(t);return D(n,{code:T.invalid_type,expected:B.symbol,received:n.parsedType}),H}return xe(t.data)}}Gn.create=e=>new Gn({typeName:q.ZodSymbol,...Y(e)});class Jn extends G{_parse(t){if(this._getType(t)!==B.undefined){const n=this._getOrReturnCtx(t);return D(n,{code:T.invalid_type,expected:B.undefined,received:n.parsedType}),H}return xe(t.data)}}Jn.create=e=>new Jn({typeName:q.ZodUndefined,...Y(e)});class Kn extends G{_parse(t){if(this._getType(t)!==B.null){const n=this._getOrReturnCtx(t);return D(n,{code:T.invalid_type,expected:B.null,received:n.parsedType}),H}return xe(t.data)}}Kn.create=e=>new Kn({typeName:q.ZodNull,...Y(e)});class Xn extends G{constructor(){super(...arguments),this._any=!0}_parse(t){return xe(t.data)}}Xn.create=e=>new Xn({typeName:q.ZodAny,...Y(e)});class Qn extends G{constructor(){super(...arguments),this._unknown=!0}_parse(t){return xe(t.data)}}Qn.create=e=>new Qn({typeName:q.ZodUnknown,...Y(e)});class Je extends G{_parse(t){const r=this._getOrReturnCtx(t);return D(r,{code:T.invalid_type,expected:B.never,received:r.parsedType}),H}}Je.create=e=>new Je({typeName:q.ZodNever,...Y(e)});class Rn extends G{_parse(t){if(this._getType(t)!==B.undefined){const n=this._getOrReturnCtx(t);return D(n,{code:T.invalid_type,expected:B.void,received:n.parsedType}),H}return xe(t.data)}}Rn.create=e=>new Rn({typeName:q.ZodVoid,...Y(e)});class Le extends G{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==B.array)return D(r,{code:T.invalid_type,expected:B.array,received:r.parsedType}),H;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(i||l)&&(D(r,{code:i?T.too_big:T.too_small,minimum:l?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(D(r,{code:T.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(D(r,{code:T.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>a.type._parseAsync(new Ge(r,i,r.path,l)))).then(i=>ve.mergeArray(n,i));const s=[...r.data].map((i,l)=>a.type._parseSync(new Ge(r,i,r.path,l)));return ve.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Le({...this._def,minLength:{value:t,message:U.toString(r)}})}max(t,r){return new Le({...this._def,maxLength:{value:t,message:U.toString(r)}})}length(t,r){return new Le({...this._def,exactLength:{value:t,message:U.toString(r)}})}nonempty(t){return this.min(1,t)}}Le.create=(e,t)=>new Le({type:e,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...Y(t)});function vt(e){if(e instanceof se){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ke.create(vt(n))}return new se({...e._def,shape:()=>t})}else return e instanceof Le?new Le({...e._def,type:vt(e.element)}):e instanceof Ke?Ke.create(vt(e.unwrap())):e instanceof wt?wt.create(vt(e.unwrap())):e instanceof it?it.create(e.items.map(t=>vt(t))):e}class se extends G{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=J.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==B.object){const u=this._getOrReturnCtx(t);return D(u,{code:T.invalid_type,expected:B.object,received:u.parsedType}),H}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Je&&this._def.unknownKeys==="strip"))for(const u in a.data)i.includes(u)||l.push(u);const o=[];for(const u of i){const d=s[u],p=a.data[u];o.push({key:{status:"valid",value:u},value:d._parse(new Ge(a,p,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Je){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)o.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(D(a,{code:T.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const p=a.data[d];o.push({key:{status:"valid",value:d},value:u._parse(new Ge(a,p,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of o){const p=await d.key,y=await d.value;u.push({key:p,value:y,alwaysSet:d.alwaysSet})}return u}).then(u=>ve.mergeObjectSync(n,u)):ve.mergeObjectSync(n,o)}get shape(){return this._def.shape()}strict(t){return U.errToObj,new se({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i;const a=((i=(s=this._def).errorMap)==null?void 0:i.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:U.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new se({...this._def,unknownKeys:"strip"})}passthrough(){return new se({...this._def,unknownKeys:"passthrough"})}extend(t){return new se({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new se({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:q.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new se({...this._def,catchall:t})}pick(t){const r={};for(const n of J.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new se({...this._def,shape:()=>r})}omit(t){const r={};for(const n of J.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new se({...this._def,shape:()=>r})}deepPartial(){return vt(this)}partial(t){const r={};for(const n of J.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new se({...this._def,shape:()=>r})}required(t){const r={};for(const n of J.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Ke;)s=s._def.innerType;r[n]=s}return new se({...this._def,shape:()=>r})}keyof(){return na(J.objectKeys(this.shape))}}se.create=(e,t)=>new se({shape:()=>e,unknownKeys:"strip",catchall:Je.create(),typeName:q.ZodObject,...Y(t)}),se.strictCreate=(e,t)=>new se({shape:()=>e,unknownKeys:"strict",catchall:Je.create(),typeName:q.ZodObject,...Y(t)}),se.lazycreate=(e,t)=>new se({shape:e,unknownKeys:"strip",catchall:Je.create(),typeName:q.ZodObject,...Y(t)});class er extends G{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=s.map(l=>new Ve(l.ctx.common.issues));return D(r,{code:T.invalid_union,unionErrors:i}),H}if(r.common.async)return Promise.all(n.map(async s=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(a);{let s;const i=[];for(const o of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=o._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=i.map(o=>new Ve(o));return D(r,{code:T.invalid_union,unionErrors:l}),H}}get options(){return this._def.options}}er.create=(e,t)=>new er({options:e,typeName:q.ZodUnion,...Y(t)});function Or(e,t){const r=Ye(e),n=Ye(t);if(e===t)return{valid:!0,data:e};if(r===B.object&&n===B.object){const a=J.objectKeys(t),s=J.objectKeys(e).filter(l=>a.indexOf(l)!==-1),i={...e,...t};for(const l of s){const o=Or(e[l],t[l]);if(!o.valid)return{valid:!1};i[l]=o.data}return{valid:!0,data:i}}else if(r===B.array&&n===B.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const i=e[s],l=t[s],o=Or(i,l);if(!o.valid)return{valid:!1};a.push(o.data)}return{valid:!0,data:a}}else return r===B.date&&n===B.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class tr extends G{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,i)=>{if(zn(s)||zn(i))return H;const l=Or(s.value,i.value);return l.valid?((Wn(s)||Wn(i))&&r.dirty(),{status:r.value,value:l.data}):(D(n,{code:T.invalid_intersection_types}),H)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}tr.create=(e,t,r)=>new tr({left:e,right:t,typeName:q.ZodIntersection,...Y(r)});class it extends G{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.array)return D(n,{code:T.invalid_type,expected:B.array,received:n.parsedType}),H;if(n.data.length<this._def.items.length)return D(n,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),H;!this._def.rest&&n.data.length>this._def.items.length&&(D(n,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((i,l)=>{const o=this._def.items[l]||this._def.rest;return o?o._parse(new Ge(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>ve.mergeArray(r,i)):ve.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new it({...this._def,rest:t})}}it.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new it({items:e,typeName:q.ZodTuple,rest:null,...Y(t)})};class ea extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.map)return D(n,{code:T.invalid_type,expected:B.map,received:n.parsedType}),H;const a=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([l,o],u)=>({key:a._parse(new Ge(n,l,n.path,[u,"key"])),value:s._parse(new Ge(n,o,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const o of i){const u=await o.key,d=await o.value;if(u.status==="aborted"||d.status==="aborted")return H;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const o of i){const u=o.key,d=o.value;if(u.status==="aborted"||d.status==="aborted")return H;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}ea.create=(e,t,r)=>new ea({valueType:t,keyType:e,typeName:q.ZodMap,...Y(r)});class Pt extends G{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.set)return D(n,{code:T.invalid_type,expected:B.set,received:n.parsedType}),H;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(D(n,{code:T.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(D(n,{code:T.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function i(o){const u=new Set;for(const d of o){if(d.status==="aborted")return H;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((o,u)=>s._parse(new Ge(n,o,n.path,u)));return n.common.async?Promise.all(l).then(o=>i(o)):i(l)}min(t,r){return new Pt({...this._def,minSize:{value:t,message:U.toString(r)}})}max(t,r){return new Pt({...this._def,maxSize:{value:t,message:U.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Pt.create=(e,t)=>new Pt({valueType:e,minSize:null,maxSize:null,typeName:q.ZodSet,...Y(t)});class ta extends G{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ta.create=(e,t)=>new ta({getter:e,typeName:q.ZodLazy,...Y(t)});class ra extends G{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return D(r,{received:r.data,code:T.invalid_literal,expected:this._def.value}),H}return{status:"valid",value:t.data}}get value(){return this._def.value}}ra.create=(e,t)=>new ra({value:e,typeName:q.ZodLiteral,...Y(t)});function na(e,t){return new yt({values:e,typeName:q.ZodEnum,...Y(t)})}class yt extends G{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return D(r,{expected:J.joinValues(n),received:r.parsedType,code:T.invalid_type}),H}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return D(r,{received:r.data,code:T.invalid_enum_value,options:n}),H}return xe(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return yt.create(t,{...this._def,...r})}exclude(t,r=this._def){return yt.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}yt.create=na;class aa extends G{_parse(t){const r=J.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==B.string&&n.parsedType!==B.number){const a=J.objectValues(r);return D(n,{expected:J.joinValues(a),received:n.parsedType,code:T.invalid_type}),H}if(this._cache||(this._cache=new Set(J.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=J.objectValues(r);return D(n,{received:n.data,code:T.invalid_enum_value,options:a}),H}return xe(t.data)}get enum(){return this._def.values}}aa.create=(e,t)=>new aa({values:e,typeName:q.ZodNativeEnum,...Y(t)});class rr extends G{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==B.promise&&r.common.async===!1)return D(r,{code:T.invalid_type,expected:B.promise,received:r.parsedType}),H;const n=r.parsedType===B.promise?r.data:Promise.resolve(r.data);return xe(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}rr.create=(e,t)=>new rr({type:e,typeName:q.ZodPromise,...Y(t)});class bt extends G{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:i=>{D(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const i=a.transform(n.data,s);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return H;const o=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return o.status==="aborted"?H:o.status==="dirty"||r.value==="dirty"?Lt(o.value):o});{if(r.value==="aborted")return H;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?H:l.status==="dirty"||r.value==="dirty"?Lt(l.value):l}}if(a.type==="refinement"){const i=l=>{const o=a.refinement(l,s);if(n.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?H:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?H:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!pt(i))return H;const l=a.transform(i.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>pt(i)?Promise.resolve(a.transform(i.value,s)).then(l=>({status:r.value,value:l})):H);J.assertNever(a)}}bt.create=(e,t,r)=>new bt({schema:e,typeName:q.ZodEffects,effect:t,...Y(r)}),bt.createWithPreprocess=(e,t,r)=>new bt({schema:t,effect:{type:"preprocess",transform:e},typeName:q.ZodEffects,...Y(r)});class Ke extends G{_parse(t){return this._getType(t)===B.undefined?xe(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ke.create=(e,t)=>new Ke({innerType:e,typeName:q.ZodOptional,...Y(t)});class wt extends G{_parse(t){return this._getType(t)===B.null?xe(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wt.create=(e,t)=>new wt({innerType:e,typeName:q.ZodNullable,...Y(t)});class $r extends G{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===B.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$r.create=(e,t)=>new $r({innerType:e,typeName:q.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Y(t)});class Lr extends G{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Qt(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ve(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ve(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Lr.create=(e,t)=>new Lr({innerType:e,typeName:q.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Y(t)});class sa extends G{_parse(t){if(this._getType(t)!==B.nan){const n=this._getOrReturnCtx(t);return D(n,{code:T.invalid_type,expected:B.nan,received:n.parsedType}),H}return{status:"valid",value:t.data}}}sa.create=e=>new sa({typeName:q.ZodNaN,...Y(e)});class si extends G{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Pr extends G{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?H:s.status==="dirty"?(r.dirty(),Lt(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?H:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Pr({in:t,out:r,typeName:q.ZodPipeline})}}class Dr extends G{_parse(t){const r=this._def.innerType._parse(t),n=a=>(pt(a)&&(a.value=Object.freeze(a.value)),a);return Qt(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Dr.create=(e,t)=>new Dr({innerType:e,typeName:q.ZodReadonly,...Y(t)});var q;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(q||(q={}));const Dt=je.create;at.create,st.create;const ii=Rt.create;gt.create,Je.create,Le.create;const li=se.create;er.create,tr.create,it.create,yt.create,rr.create,Ke.create,wt.create;const oi={string:e=>je.create({...e,coerce:!0}),number:e=>at.create({...e,coerce:!0}),boolean:e=>Rt.create({...e,coerce:!0}),bigint:e=>st.create({...e,coerce:!0}),date:e=>gt.create({...e,coerce:!0})},ye=h.forwardRef(({label:e,error:t,helperText:r,className:n="",...a},s)=>f.jsxs("div",{className:"w-full",children:[e&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),f.jsx("input",{ref:s,className:`
            w-full rounded-md border px-3 py-2 text-sm
            ${t?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}
            shadow-sm focus:outline-none focus:ring-1
            disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed
            ${n}
          `,...a}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),r&&!t&&f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]}));ye.displayName="Input";const xt=h.forwardRef(({label:e,options:t,error:r,helperText:n,isLoading:a=!1,className:s="",...i},l)=>f.jsxs("div",{className:"w-full",children:[e&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{ref:l,className:`
              w-full rounded-md border px-3 py-2 text-sm appearance-none bg-white
              ${r?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}
              shadow-sm focus:outline-none focus:ring-1
              disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed
              ${s}
            `,disabled:i.disabled||a,...i,children:[f.jsx("option",{value:"",disabled:!0,children:i.placeholder||"Select an option"}),t.map(o=>f.jsx("option",{value:o.value,children:o.label},o.value))]}),a&&f.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:f.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"})})]}),r&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:r}),n&&!r&&f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]}));xt.displayName="Select";const ia=h.createContext({hasPermission:()=>!1,userPermissions:[]}),Ir=()=>h.useContext(ia),ui=({children:e,permissions:t=[]})=>{const[r]=h.useState(t),n=a=>a?!r||r.length===0?!1:Array.isArray(a)?a.some(s=>r.includes(s)):r.includes(a):!0;return f.jsx(ia.Provider,{value:{hasPermission:n,userPermissions:r},children:e})},ie=({variant:e="primary",size:t="md",fullWidth:r=!1,isLoading:n=!1,permission:a,className:s="",children:i,...l})=>{const{hasPermission:o}=Ir();if(a&&!o(a))return null;const u="inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2",d={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500"},p={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},y=r?"w-full":"",N=`
    ${u}
    ${d[e]}
    ${p[t]}
    ${y}
    ${n?"opacity-75 cursor-not-allowed":""}
    ${s}
  `;return f.jsxs("button",{className:N,disabled:n||l.disabled,...l,children:[n&&f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})},Mr=async(e,t)=>{try{const r=new URL(e.url);e.params&&Object.entries(e.params).forEach(([s,i])=>{r.searchParams.append(s,i)}),e.dependsOn&&t&&r.searchParams.append(e.dependsOn,t);const n=await fetch(r.toString(),{method:e.method||"GET",headers:e.headers||{"Content-Type":"application/json"},body:e.method!=="GET"&&e.bodyData?JSON.stringify(e.bodyData):void 0});if(!n.ok)throw new Error(`API request failed with status ${n.status}`);const a=await n.json();return di(a,e.responseMapping)}catch(r){return console.error("Error fetching options from API:",r),[]}},di=(e,t)=>{if(Array.isArray(e))return e.map(n=>({value:lt(n,t.value),label:lt(n,t.label)}));const r=lt(e,"items")||lt(e,"data")||lt(e,"results")||[];return Array.isArray(r)?r.map(n=>({value:lt(n,t.value),label:lt(n,t.label)})):[]},lt=(e,t)=>t.split(".").reduce((r,n)=>r?r[n]:null,e),la=({schema:e,defaultValues:t={},mode:r,onSubmit:n,onCancel:a,isSubmitting:s=!1,submitLabel:i,cancelLabel:l="Cancel"})=>{const[o,u]=h.useState({}),[d,p]=h.useState({}),N=(()=>{const k={};return e.fields.forEach(O=>{var $,L,Z,M,W;let C;switch(O.type){case"text":case"textarea":case"password":C=Dt(),O.validation&&(O.validation.required&&(C=C.min(1,O.validation.required)),O.validation.minLength&&(C=C.min(O.validation.minLength,`Minimum ${O.validation.minLength} characters required`)),O.validation.maxLength&&(C=C.max(O.validation.maxLength,`Maximum ${O.validation.maxLength} characters allowed`)),O.validation.pattern&&(C=C.regex(O.validation.pattern.value,O.validation.pattern.message)));break;case"email":C=Dt().email((($=O.validation)==null?void 0:$.required)||"Invalid email address"),O.validation&&O.validation.required&&(C=C.min(1,O.validation.required));break;case"number":C=oi.number(),O.validation&&(O.validation.required&&(C=C.min(O.validation.min||0,O.validation.required)),O.validation.min!==void 0&&(C=C.min(O.validation.min,`Minimum value is ${O.validation.min}`)),O.validation.max!==void 0&&(C=C.max(O.validation.max,`Maximum value is ${O.validation.max}`)));break;case"checkbox":C=ii();break;case"date":C=Dt(),(L=O.validation)!=null&&L.required&&(C=C.min(1,O.validation.required));break;case"select":case"radio":C=Dt(),(Z=O.validation)!=null&&Z.required&&(C=C.min(1,O.validation.required));break;default:C=Dt(),(M=O.validation)!=null&&M.required&&(C=C.min(1,O.validation.required))}(W=O.validation)!=null&&W.required||(C=C.optional()),k[O.name]=C}),li(k)})(),{register:E,handleSubmit:_,formState:{errors:S},watch:m,setValue:g}=Fs({resolver:Ls(N),defaultValues:t});h.useEffect(()=>{e.fields.forEach(async k=>{if(k.dataSource&&k.dataSource.type==="api"&&!k.dataSource.dependsOn){p(O=>({...O,[k.name]:!0}));try{const O=await Mr(k.dataSource);u(C=>({...C,[k.name]:O}))}finally{p(O=>({...O,[k.name]:!1}))}}})},[e.fields]),h.useEffect(()=>{const k=m((O,{name:C,type:$})=>{!C||$!=="change"||e.fields.forEach(async L=>{var Z;if(((Z=L.dataSource)==null?void 0:Z.dependsOn)===C){p(M=>({...M,[L.name]:!0})),g(L.name,"");try{const M=await Mr(L.dataSource,O[C]);u(W=>({...W,[L.name]:M}))}finally{p(M=>({...M,[L.name]:!1}))}}})});return()=>k.unsubscribe()},[m,e.fields,g]);const w=r==="view",A=k=>{var C,$,L,Z,M;const O={label:k.label,placeholder:k.placeholder,disabled:w||k.disabled,error:(C=S[k.name])==null?void 0:C.message,helperText:k.helperText,...E(k.name)};switch(k.type){case"select":const W=o[k.name]||k.options||[],K=d[k.name]||!1;return f.jsx(xt,{options:W,isLoading:K,...O},k.name);case"textarea":return f.jsxs("div",{className:"w-full",children:[k.label&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k.label}),f.jsx("textarea",{className:`
                w-full rounded-md border px-3 py-2 text-sm
                ${S[k.name]?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}
                shadow-sm focus:outline-none focus:ring-1
                disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed
              `,rows:4,...E(k.name),placeholder:k.placeholder,disabled:w||k.disabled}),S[k.name]&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:($=S[k.name])==null?void 0:$.message}),k.helperText&&!S[k.name]&&f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:k.helperText})]},k.name);case"checkbox":return f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",...E(k.name),disabled:w||k.disabled}),f.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:k.label}),S[k.name]&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:(L=S[k.name])==null?void 0:L.message})]},k.name);case"radio":return f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:k.label}),f.jsx("div",{className:"space-y-2",children:(Z=k.options)==null?void 0:Z.map(X=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"radio",id:`${k.name}-${X.value}`,value:X.value,className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500",...E(k.name),disabled:w||k.disabled}),f.jsx("label",{htmlFor:`${k.name}-${X.value}`,className:"ml-2 block text-sm text-gray-900",children:X.label})]},X.value))}),S[k.name]&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:(M=S[k.name])==null?void 0:M.message}),k.helperText&&!S[k.name]&&f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:k.helperText})]},k.name);default:return f.jsx(ye,{type:k.type,...O},k.name)}},V=()=>i||(r==="create"?"Create":"Update");return f.jsxs("form",{onSubmit:_(n),className:"space-y-4",children:[e.fields.map(k=>A(k)),f.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[f.jsx(ie,{type:"button",variant:"outline",onClick:a,children:l}),!w&&f.jsx(ie,{type:"submit",isLoading:s,children:V()})]})]})};var ci=Object.defineProperty,fi=(e,t,r)=>t in e?ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vr=(e,t,r)=>(fi(e,typeof t!="symbol"?t+"":t,r),r);let hi=class{constructor(){Vr(this,"current",this.detect()),Vr(this,"handoffState","pending"),Vr(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Be=new hi,_e=(e,t)=>{Be.isServer?h.useEffect(e,t):h.useLayoutEffect(e,t)};function Ue(e){let t=h.useRef(e);return _e(()=>{t.current=e},[e]),t}let te=function(e){let t=Ue(e);return h.useCallback((...r)=>t.current(...r),[t])};function nr(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ot(){let e=[],t={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),t.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return nr(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=ot();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function jr(){let[e]=h.useState(ot);return h.useEffect(()=>()=>e.dispose(),[e]),e}function mi(){let e=typeof document>"u";return"useSyncExternalStore"in b?(t=>t.useSyncExternalStore)(b)(()=>()=>{},()=>!1,()=>!e):!1}function _t(){let e=mi(),[t,r]=b.useState(Be.isHandoffComplete);return t&&Be.isHandoffComplete===!1&&r(!1),b.useEffect(()=>{t!==!0&&r(!0)},[t]),b.useEffect(()=>Be.handoff(),[]),e?!1:t}var oa;let kt=(oa=h.useId)!=null?oa:function(){let e=_t(),[t,r]=h.useState(e?()=>Be.nextId():null);return _e(()=>{t===null&&r(Be.nextId())},[t]),t!=null?""+t:void 0};function he(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,he),n}function ua(e){return Be.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Br=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ut=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(ut||{}),da=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(da||{}),pi=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(pi||{});function gi(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Br)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var ca=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ca||{});function vi(e,t=0){var r;return e===((r=ua(e))==null?void 0:r.body)?!1:he(t,{0(){return e.matches(Br)},1(){let n=e;for(;n!==null;){if(n.matches(Br))return!0;n=n.parentElement}return!1}})}var yi=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(yi||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function dt(e){e==null||e.focus({preventScroll:!0})}let bi=["textarea","input"].join(",");function wi(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,bi))!=null?r:!1}function xi(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),s=t(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ar(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?r?xi(e):e:gi(e);a.length>0&&i.length>1&&(i=i.filter(N=>!a.includes(N))),n=n??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),o=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(n))-1;if(t&4)return Math.max(0,i.indexOf(n))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,p=i.length,y;do{if(d>=p||d+p<=0)return 0;let N=o+d;if(t&16)N=(N+p)%p;else{if(N<0)return 3;if(N>=p)return 1}y=i[N],y==null||y.focus(u),d+=l}while(y!==s.activeElement);return t&6&&wi(y)&&y.select(),2}function fa(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function _i(){return/Android/gi.test(window.navigator.userAgent)}function ki(){return fa()||_i()}function sr(e,t,r){let n=Ue(t);h.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(e,a,r),()=>document.removeEventListener(e,a,r)},[e,r])}function ha(e,t,r){let n=Ue(t);h.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(e,a,r),()=>window.removeEventListener(e,a,r)},[e,r])}function Ei(e,t,r=!0){let n=h.useRef(!1);h.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let o=l(i);if(o===null||!o.getRootNode().contains(o)||!o.isConnected)return;let u=function d(p){return typeof p=="function"?d(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let d of u){if(d===null)continue;let p=d instanceof HTMLElement?d:d.current;if(p!=null&&p.contains(o)||i.composed&&i.composedPath().includes(p))return}return!vi(o,ca.Loose)&&o.tabIndex!==-1&&i.preventDefault(),t(i,o)}let s=h.useRef(null);sr("pointerdown",i=>{var l,o;n.current&&(s.current=((o=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:o[0])||i.target)},!0),sr("mousedown",i=>{var l,o;n.current&&(s.current=((o=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:o[0])||i.target)},!0),sr("click",i=>{ki()||s.current&&(a(i,()=>s.current),s.current=null)},!0),sr("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),ha("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function It(...e){return h.useMemo(()=>ua(...e),[...e])}let ma=Symbol();function Ci(e,t=!0){return Object.assign(e,{[ma]:t})}function Fe(...e){let t=h.useRef(e);h.useEffect(()=>{t.current=e},[e]);let r=te(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||(n==null?void 0:n[ma]))?void 0:r}function Ur(e,t){let r=h.useRef([]),n=te(e);h.useEffect(()=>{let a=[...r.current];for(let[s,i]of t.entries())if(r.current[s]!==i){let l=n(t,a);return r.current=t,l}},[n,...t])}function ir(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var lr=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(lr||{}),Xe=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Xe||{});function ke({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??Si;let o=pa(t,e);if(s)return or(o,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...p}=o;if(d)return or(p,r,n,i,l)}if(u&1){let{unmount:d=!0,...p}=o;return he(d?0:1,{0(){return null},1(){return or({...p,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return or(o,r,n,i,l)}function or(e,t={},r,n,a){let{as:s=r,children:i,refName:l="ref",...o}=Zr(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof i=="function"?i(t):i;"className"in o&&o.className&&typeof o.className=="function"&&(o.className=o.className(t));let p={};if(t){let y=!1,N=[];for(let[E,_]of Object.entries(t))typeof _=="boolean"&&(y=!0),_===!0&&N.push(E);y&&(p["data-headlessui-state"]=N.join(" "))}if(s===h.Fragment&&Object.keys(ga(o)).length>0){if(!h.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(o).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let y=d.props,N=typeof(y==null?void 0:y.className)=="function"?(..._)=>ir(y==null?void 0:y.className(..._),o.className):ir(y==null?void 0:y.className,o.className),E=N?{className:N}:{};return h.cloneElement(d,Object.assign({},pa(d.props,ga(Zr(o,["ref"]))),p,u,{ref:a(d.ref,u.ref)},E))}return h.createElement(s,Object.assign({},Zr(o,["ref"]),s!==h.Fragment&&u,s!==h.Fragment&&p),d)}function Si(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function pa(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return t}function be(e){var t;return Object.assign(h.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ga(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Zr(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}let Ni="div";var ur=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ur||{});function Ti(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return ke({ourProps:s,theirProps:a,slot:{},defaultTag:Ni,name:"Hidden"})}let zr=be(Ti),Wr=h.createContext(null);Wr.displayName="OpenClosedContext";var we=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(we||{});function Hr(){return h.useContext(Wr)}function Fi({value:e,children:t}){return h.createElement(Wr.Provider,{value:e},t)}function Ai(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Qe=[];Ai(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Qe[0]!==t.target&&(Qe.unshift(t.target),Qe=Qe.filter(r=>r!=null&&r.isConnected),Qe.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Oi(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(t==null?void 0:t.getAttribute("disabled"))==="";return n&&$i(r)?!1:n}function $i(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var va=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(va||{});function ya(e,t,r,n){let a=Ue(r);h.useEffect(()=>{e=e??window;function s(i){a.current(i)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function Mt(){let e=h.useRef(!1);return _e(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ba(e){let t=te(e),r=h.useRef(!1);h.useEffect(()=>(r.current=!1,()=>{r.current=!0,nr(()=>{r.current&&t()})}),[t])}var Vt=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Vt||{});function Li(){let e=h.useRef(0);return ha("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function wa(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let Pi="div";var xa=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(xa||{});function Di(e,t){let r=h.useRef(null),n=Fe(r,t),{initialFocus:a,containers:s,features:i=30,...l}=e;_t()||(i=1);let o=It(r);Vi({ownerDocument:o},!!(i&16));let u=ji({ownerDocument:o,container:r,initialFocus:a},!!(i&2));Bi({ownerDocument:o,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=Li(),p=te(_=>{let S=r.current;S&&(m=>m())(()=>{he(d.current,{[Vt.Forwards]:()=>{ar(S,ut.First,{skipElements:[_.relatedTarget]})},[Vt.Backwards]:()=>{ar(S,ut.Last,{skipElements:[_.relatedTarget]})}})})}),y=jr(),N=h.useRef(!1),E={ref:n,onKeyDown(_){_.key=="Tab"&&(N.current=!0,y.requestAnimationFrame(()=>{N.current=!1}))},onBlur(_){let S=wa(s);r.current instanceof HTMLElement&&S.add(r.current);let m=_.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(_a(S,m)||(N.current?ar(r.current,he(d.current,{[Vt.Forwards]:()=>ut.Next,[Vt.Backwards]:()=>ut.Previous})|ut.WrapAround,{relativeTo:_.target}):_.target instanceof HTMLElement&&dt(_.target)))}};return h.createElement(h.Fragment,null,!!(i&4)&&h.createElement(zr,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:ur.Focusable}),ke({ourProps:E,theirProps:l,defaultTag:Pi,name:"FocusTrap"}),!!(i&4)&&h.createElement(zr,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:ur.Focusable}))}let Ii=be(Di),jt=Object.assign(Ii,{features:xa});function Mi(e=!0){let t=h.useRef(Qe.slice());return Ur(([r],[n])=>{n===!0&&r===!1&&nr(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Qe.slice())},[e,Qe,t]),te(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Vi({ownerDocument:e},t){let r=Mi(t);Ur(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&dt(r())},[t]),ba(()=>{t&&dt(r())})}function ji({ownerDocument:e,container:t,initialFocus:r},n){let a=h.useRef(null),s=Mt();return Ur(()=>{if(!n)return;let i=t.current;i&&nr(()=>{if(!s.current)return;let l=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?dt(r.current):ar(i,ut.First)===da.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=e==null?void 0:e.activeElement})},[n]),a}function Bi({ownerDocument:e,container:t,containers:r,previousActiveElement:n},a){let s=Mt();ya(e==null?void 0:e.defaultView,"focus",i=>{if(!a||!s.current)return;let l=wa(r);t.current instanceof HTMLElement&&l.add(t.current);let o=n.current;if(!o)return;let u=i.target;u&&u instanceof HTMLElement?_a(l,u)?(n.current=u,dt(u)):(i.preventDefault(),i.stopPropagation(),dt(o)):dt(n.current)},!0)}function _a(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let ka=h.createContext(!1);function Ui(){return h.useContext(ka)}function qr(e){return h.createElement(ka.Provider,{value:e.force},e.children)}function Zi(e){let t=Ui(),r=h.useContext(Ea),n=It(e),[a,s]=h.useState(()=>{if(!t&&r!==null||Be.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return h.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),h.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),a}let zi=h.Fragment;function Wi(e,t){let r=e,n=h.useRef(null),a=Fe(Ci(d=>{n.current=d}),t),s=It(n),i=Zi(n),[l]=h.useState(()=>{var d;return Be.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),o=h.useContext(Yr),u=_t();return _e(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),_e(()=>{if(l&&o)return o.register(l)},[o,l]),ba(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:ls.createPortal(ke({ourProps:{ref:a},theirProps:r,defaultTag:zi,name:"Portal"}),l):null}let Hi=h.Fragment,Ea=h.createContext(null);function qi(e,t){let{target:r,...n}=e,a={ref:Fe(t)};return h.createElement(Ea.Provider,{value:r},ke({ourProps:a,theirProps:n,defaultTag:Hi,name:"Popover.Group"}))}let Yr=h.createContext(null);function Yi(){let e=h.useContext(Yr),t=h.useRef([]),r=te(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=te(s=>{let i=t.current.indexOf(s);i!==-1&&t.current.splice(i,1),e&&e.unregister(s)}),a=h.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,h.useMemo(()=>function({children:s}){return h.createElement(Yr.Provider,{value:a},s)},[a])]}let Gi=be(Wi),Ji=be(qi),Gr=Object.assign(Gi,{Group:Ji});function Ki(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Xi=typeof Object.is=="function"?Object.is:Ki,{useState:Qi,useEffect:Ri,useLayoutEffect:el,useDebugValue:tl}=b;function rl(e,t,r){const n=t(),[{inst:a},s]=Qi({inst:{value:n,getSnapshot:t}});return el(()=>{a.value=n,a.getSnapshot=t,Jr(a)&&s({inst:a})},[e,n,t]),Ri(()=>(Jr(a)&&s({inst:a}),e(()=>{Jr(a)&&s({inst:a})})),[e]),tl(n),n}function Jr(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!Xi(r,n)}catch{return!0}}function nl(e,t,r){return t()}const al=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sl=!al,il=sl?nl:rl,ll="useSyncExternalStore"in b?(e=>e.useSyncExternalStore)(b):il;function ol(e){return ll(e.subscribe,e.getSnapshot,e.getSnapshot)}function ul(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=t[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function dl(){let e;return{before({doc:t}){var r;let n=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:t,d:r}){let n=t.documentElement,a=n.clientWidth-n.offsetWidth,s=e-a;r.style(n,"paddingRight",`${s}px`)}}}function cl(){return fa()?{before({doc:e,d:t,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=ot();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let o=l.target.closest("a");if(!o)return;let{hash:u}=new URL(o.href),d=e.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let o=l.target;for(;o.parentElement&&n(o.parentElement);)o=o.parentElement;t.style(o,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let o=l.target;for(;o.parentElement&&o.dataset.headlessuiPortal!==""&&!(o.scrollHeight>o.clientHeight||o.scrollWidth>o.clientWidth);)o=o.parentElement;o.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let o=(l=window.scrollY)!=null?l:window.pageYOffset;s!==o&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function fl(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function hl(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let ct=ul(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:ot(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:hl(r)},a=[cl(),dl(),fl()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ct.subscribe(()=>{let e=ct.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&ct.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&ct.dispatch("TEARDOWN",r)}});function ml(e,t,r){let n=ol(ct),a=e?n.get(e):void 0,s=a?a.count>0:!1;return _e(()=>{if(!(!e||!t))return ct.dispatch("PUSH",e,r),()=>ct.dispatch("POP",e,r)},[t,e]),s}let Kr=new Map,Bt=new Map;function Ca(e,t=!0){_e(()=>{var r;if(!t)return;let n=typeof e=="function"?e():e.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=Bt.get(n))!=null?i:1;if(l===1?Bt.delete(n):Bt.set(n,l-1),l!==1)return;let o=Kr.get(n);o&&(o["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",o["aria-hidden"]),n.inert=o.inert,Kr.delete(n))}let s=(r=Bt.get(n))!=null?r:0;return Bt.set(n,s+1),s!==0||(Kr.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[e,t])}function pl({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var n;let a=h.useRef((n=r==null?void 0:r.current)!=null?n:null),s=It(a),i=te(()=>{var l,o,u;let d=[];for(let p of e)p!==null&&(p instanceof HTMLElement?d.push(p):"current"in p&&p.current instanceof HTMLElement&&d.push(p.current));if(t!=null&&t.current)for(let p of t.current)d.push(p);for(let p of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(a.current)||p.contains((u=(o=a.current)==null?void 0:o.getRootNode())==null?void 0:u.host)||d.some(y=>p.contains(y))||d.push(p));return d});return{resolveContainers:i,contains:te(l=>i().some(o=>o.contains(l))),mainTreeNodeRef:a,MainTreeNode:h.useMemo(()=>function(){return r!=null?null:h.createElement(zr,{features:ur.Hidden,ref:a})},[a,r])}}let Xr=h.createContext(()=>{});Xr.displayName="StackContext";var Qr=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Qr||{});function gl(){return h.useContext(Xr)}function vl({children:e,onUpdate:t,type:r,element:n,enabled:a}){let s=gl(),i=te((...l)=>{t==null||t(...l),s(...l)});return _e(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),h.createElement(Xr.Provider,{value:i},e)}let Sa=h.createContext(null);function Na(){let e=h.useContext(Sa);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Na),t}return e}function yl(){let[e,t]=h.useState([]);return[e.length>0?e.join(" "):void 0,h.useMemo(()=>function(r){let n=te(s=>(t(i=>[...i,s]),()=>t(i=>{let l=i.slice(),o=l.indexOf(s);return o!==-1&&l.splice(o,1),l}))),a=h.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return h.createElement(Sa.Provider,{value:a},r.children)},[t])]}let bl="p";function wl(e,t){let r=kt(),{id:n=`headlessui-description-${r}`,...a}=e,s=Na(),i=Fe(t);_e(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return ke({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:bl,name:s.name||"Description"})}let xl=be(wl),_l=Object.assign(xl,{});var kl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(kl||{}),El=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(El||{});let Cl={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},dr=h.createContext(null);dr.displayName="DialogContext";function Ut(e){let t=h.useContext(dr);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ut),r}return t}function Sl(e,t,r=()=>[document.body]){ml(e,t,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function Nl(e,t){return he(t.type,Cl,e,t)}let Tl="div",Fl=lr.RenderStrategy|lr.Static;function Al(e,t){let r=kt(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:o=!1,...u}=e,[d,p]=h.useState(0),y=h.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(y.current||(y.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let N=Hr();a===void 0&&N!==null&&(a=(N&we.Open)===we.Open);let E=h.useRef(null),_=Fe(E,t),S=It(E),m=e.hasOwnProperty("open")||N!==null,g=e.hasOwnProperty("onClose");if(!m&&!g)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!m)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!g)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let w=a?0:1,[A,V]=h.useReducer(Nl,{titleId:null,descriptionId:null,panelRef:h.createRef()}),k=te(()=>s(!1)),O=te(re=>V({type:0,id:re})),C=_t()?o?!1:w===0:!1,$=d>1,L=h.useContext(dr)!==null,[Z,M]=Yi(),W={get current(){var re;return(re=A.panelRef.current)!=null?re:E.current}},{resolveContainers:K,mainTreeNodeRef:X,MainTreeNode:oe}=pl({portals:Z,defaultContainers:[W]}),ue=$?"parent":"leaf",Pe=N!==null?(N&we.Closing)===we.Closing:!1,De=L||Pe?!1:C,Ae=h.useCallback(()=>{var re,Ce;return(Ce=Array.from((re=S==null?void 0:S.querySelectorAll("body > *"))!=null?re:[]).find(ge=>ge.id==="headlessui-portal-root"?!1:ge.contains(X.current)&&ge instanceof HTMLElement))!=null?Ce:null},[X]);Ca(Ae,De);let tt=$?!0:C,Ie=h.useCallback(()=>{var re,Ce;return(Ce=Array.from((re=S==null?void 0:S.querySelectorAll("[data-headlessui-portal]"))!=null?re:[]).find(ge=>ge.contains(X.current)&&ge instanceof HTMLElement))!=null?Ce:null},[X]);Ca(Ie,tt),Ei(K,re=>{re.preventDefault(),k()},!(!C||$));let Ee=!($||w!==0);ya(S==null?void 0:S.defaultView,"keydown",re=>{Ee&&(re.defaultPrevented||re.key===va.Escape&&(re.preventDefault(),re.stopPropagation(),k()))}),Sl(S,!(Pe||w!==0||L),K),h.useEffect(()=>{if(w!==0||!E.current)return;let re=new ResizeObserver(Ce=>{for(let ge of Ce){let ht=ge.target.getBoundingClientRect();ht.x===0&&ht.y===0&&ht.width===0&&ht.height===0&&k()}});return re.observe(E.current),()=>re.disconnect()},[w,E,k]);let[gn,Ht]=yl(),xr=h.useMemo(()=>[{dialogState:w,close:k,setTitleId:O},A],[w,A,k,O]),Nt=h.useMemo(()=>({open:w===0}),[w]),qt={ref:_,id:n,role:l,"aria-modal":w===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":gn};return h.createElement(vl,{type:"Dialog",enabled:w===0,element:E,onUpdate:te((re,Ce)=>{Ce==="Dialog"&&he(re,{[Qr.Add]:()=>p(ge=>ge+1),[Qr.Remove]:()=>p(ge=>ge-1)})})},h.createElement(qr,{force:!0},h.createElement(Gr,null,h.createElement(dr.Provider,{value:xr},h.createElement(Gr.Group,{target:E},h.createElement(qr,{force:!1},h.createElement(Ht,{slot:Nt,name:"Dialog.Description"},h.createElement(jt,{initialFocus:i,containers:K,features:C?he(ue,{parent:jt.features.RestoreFocus,leaf:jt.features.All&~jt.features.FocusLock}):jt.features.None},h.createElement(M,null,ke({ourProps:qt,theirProps:u,slot:Nt,defaultTag:Tl,features:Fl,visible:w===0,name:"Dialog"}))))))))),h.createElement(oe,null))}let Ol="div";function $l(e,t){let r=kt(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=e,[{dialogState:s,close:i}]=Ut("Dialog.Overlay"),l=Fe(t),o=te(d=>{if(d.target===d.currentTarget){if(Oi(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=h.useMemo(()=>({open:s===0}),[s]);return ke({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:o},theirProps:a,slot:u,defaultTag:Ol,name:"Dialog.Overlay"})}let Ll="div";function Pl(e,t){let r=kt(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=e,[{dialogState:s},i]=Ut("Dialog.Backdrop"),l=Fe(t);h.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let o=h.useMemo(()=>({open:s===0}),[s]);return h.createElement(qr,{force:!0},h.createElement(Gr,null,ke({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:o,defaultTag:Ll,name:"Dialog.Backdrop"})))}let Dl="div";function Il(e,t){let r=kt(),{id:n=`headlessui-dialog-panel-${r}`,...a}=e,[{dialogState:s},i]=Ut("Dialog.Panel"),l=Fe(t,i.panelRef),o=h.useMemo(()=>({open:s===0}),[s]),u=te(d=>{d.stopPropagation()});return ke({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:o,defaultTag:Dl,name:"Dialog.Panel"})}let Ml="h2";function Vl(e,t){let r=kt(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:s,setTitleId:i}]=Ut("Dialog.Title"),l=Fe(t);h.useEffect(()=>(i(n),()=>i(null)),[n,i]);let o=h.useMemo(()=>({open:s===0}),[s]);return ke({ourProps:{ref:l,id:n},theirProps:a,slot:o,defaultTag:Ml,name:"Dialog.Title"})}let jl=be(Al),Bl=be(Pl),Ul=be(Il),Zl=be($l),zl=be(Vl),Et=Object.assign(jl,{Backdrop:Bl,Panel:Ul,Overlay:Zl,Title:zl,Description:_l});function Wl(e=0){let[t,r]=h.useState(e),n=Mt(),a=h.useCallback(o=>{n.current&&r(u=>u|o)},[t,n]),s=h.useCallback(o=>!!(t&o),[t]),i=h.useCallback(o=>{n.current&&r(u=>u&~o)},[r,n]),l=h.useCallback(o=>{n.current&&r(u=>u^o)},[r]);return{flags:t,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function Hl(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function Rr(e,...t){e&&t.length>0&&e.classList.add(...t)}function en(e,...t){e&&t.length>0&&e.classList.remove(...t)}function ql(e,t){let r=ot();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(e),[s,i]=[n,a].map(o=>{let[u=0]=o.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,p)=>p-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let o=r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),o())})}else t();return r.add(()=>t()),r.dispose}function Yl(e,t,r,n){let a=r?"enter":"leave",s=ot(),i=n!==void 0?Hl(n):()=>{};a==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=he(a,{enter:()=>t.enter,leave:()=>t.leave}),o=he(a,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=he(a,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return en(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Rr(e,...t.base,...l,...u),s.nextFrame(()=>{en(e,...t.base,...l,...u),Rr(e,...t.base,...l,...o),ql(e,()=>(en(e,...t.base,...l),Rr(e,...t.base,...t.entered),i()))}),s.dispose}function Gl({immediate:e,container:t,direction:r,classes:n,onStart:a,onStop:s}){let i=Mt(),l=jr(),o=Ue(r);_e(()=>{e&&(o.current="enter")},[e]),_e(()=>{let u=ot();l.add(u.dispose);let d=t.current;if(d&&o.current!=="idle"&&i.current)return u.dispose(),a.current(o.current),u.add(Yl(d,n.current,o.current==="enter",()=>{u.dispose(),s.current(o.current)})),u.dispose},[r])}function Re(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let cr=h.createContext(null);cr.displayName="TransitionContext";var Jl=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Jl||{});function Kl(){let e=h.useContext(cr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Xl(){let e=h.useContext(fr);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let fr=h.createContext(null);fr.displayName="NestingContext";function hr(e){return"children"in e?hr(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Ta(e,t){let r=Ue(e),n=h.useRef([]),a=Mt(),s=jr(),i=te((N,E=Xe.Hidden)=>{let _=n.current.findIndex(({el:S})=>S===N);_!==-1&&(he(E,{[Xe.Unmount](){n.current.splice(_,1)},[Xe.Hidden](){n.current[_].state="hidden"}}),s.microTask(()=>{var S;!hr(n)&&a.current&&((S=r.current)==null||S.call(r))}))}),l=te(N=>{let E=n.current.find(({el:_})=>_===N);return E?E.state!=="visible"&&(E.state="visible"):n.current.push({el:N,state:"visible"}),()=>i(N,Xe.Unmount)}),o=h.useRef([]),u=h.useRef(Promise.resolve()),d=h.useRef({enter:[],leave:[],idle:[]}),p=te((N,E,_)=>{o.current.splice(0),t&&(t.chains.current[E]=t.chains.current[E].filter(([S])=>S!==N)),t==null||t.chains.current[E].push([N,new Promise(S=>{o.current.push(S)})]),t==null||t.chains.current[E].push([N,new Promise(S=>{Promise.all(d.current[E].map(([m,g])=>g)).then(()=>S())})]),E==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>_(E)):_(E)}),y=te((N,E,_)=>{Promise.all(d.current[E].splice(0).map(([S,m])=>m)).then(()=>{var S;(S=o.current.shift())==null||S()}).then(()=>_(E))});return h.useMemo(()=>({children:n,register:l,unregister:i,onStart:p,onStop:y,wait:u,chains:d}),[l,i,n,p,y,d,u])}function Ql(){}let Rl=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Fa(e){var t;let r={};for(let n of Rl)r[n]=(t=e[n])!=null?t:Ql;return r}function eo(e){let t=h.useRef(Fa(e));return h.useEffect(()=>{t.current=Fa(e)},[e]),t}let to="div",Aa=lr.RenderStrategy;function ro(e,t){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:o,enterFrom:u,enterTo:d,entered:p,leave:y,leaveFrom:N,leaveTo:E,..._}=e,S=h.useRef(null),m=Fe(S,t),g=(r=_.unmount)==null||r?Xe.Unmount:Xe.Hidden,{show:w,appear:A,initial:V}=Kl(),[k,O]=h.useState(w?"visible":"hidden"),C=Xl(),{register:$,unregister:L}=C;h.useEffect(()=>$(S),[$,S]),h.useEffect(()=>{if(g===Xe.Hidden&&S.current){if(w&&k!=="visible"){O("visible");return}return he(k,{hidden:()=>L(S),visible:()=>$(S)})}},[k,S,$,L,w,g]);let Z=Ue({base:Re(_.className),enter:Re(o),enterFrom:Re(u),enterTo:Re(d),entered:Re(p),leave:Re(y),leaveFrom:Re(N),leaveTo:Re(E)}),M=eo({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),W=_t();h.useEffect(()=>{if(W&&k==="visible"&&S.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[S,k,W]);let K=V&&!A,X=A&&w&&V,oe=!W||K?"idle":w?"enter":"leave",ue=Wl(0),Pe=te(Ee=>he(Ee,{enter:()=>{ue.addFlag(we.Opening),M.current.beforeEnter()},leave:()=>{ue.addFlag(we.Closing),M.current.beforeLeave()},idle:()=>{}})),De=te(Ee=>he(Ee,{enter:()=>{ue.removeFlag(we.Opening),M.current.afterEnter()},leave:()=>{ue.removeFlag(we.Closing),M.current.afterLeave()},idle:()=>{}})),Ae=Ta(()=>{O("hidden"),L(S)},C),tt=h.useRef(!1);Gl({immediate:X,container:S,classes:Z,direction:oe,onStart:Ue(Ee=>{tt.current=!0,Ae.onStart(S,Ee,Pe)}),onStop:Ue(Ee=>{tt.current=!1,Ae.onStop(S,Ee,De),Ee==="leave"&&!hr(Ae)&&(O("hidden"),L(S))})});let Ie=_,Wt={ref:m};return X?Ie={...Ie,className:ir(_.className,...Z.current.enter,...Z.current.enterFrom)}:tt.current&&(Ie.className=ir(_.className,(n=S.current)==null?void 0:n.className),Ie.className===""&&delete Ie.className),h.createElement(fr.Provider,{value:Ae},h.createElement(Fi,{value:he(k,{visible:we.Open,hidden:we.Closed})|ue.flags},ke({ourProps:Wt,theirProps:Ie,defaultTag:to,features:Aa,visible:k==="visible",name:"Transition.Child"})))}function no(e,t){let{show:r,appear:n=!1,unmount:a=!0,...s}=e,i=h.useRef(null),l=Fe(i,t);_t();let o=Hr();if(r===void 0&&o!==null&&(r=(o&we.Open)===we.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=h.useState(r?"visible":"hidden"),p=Ta(()=>{d("hidden")}),[y,N]=h.useState(!0),E=h.useRef([r]);_e(()=>{y!==!1&&E.current[E.current.length-1]!==r&&(E.current.push(r),N(!1))},[E,r]);let _=h.useMemo(()=>({show:r,appear:n,initial:y}),[r,n,y]);h.useEffect(()=>{if(r)d("visible");else if(!hr(p))d("hidden");else{let w=i.current;if(!w)return;let A=w.getBoundingClientRect();A.x===0&&A.y===0&&A.width===0&&A.height===0&&d("hidden")}},[r,p]);let S={unmount:a},m=te(()=>{var w;y&&N(!1),(w=e.beforeEnter)==null||w.call(e)}),g=te(()=>{var w;y&&N(!1),(w=e.beforeLeave)==null||w.call(e)});return h.createElement(fr.Provider,{value:p},h.createElement(cr.Provider,{value:_},ke({ourProps:{...S,as:h.Fragment,children:h.createElement(Oa,{ref:l,...S,...s,beforeEnter:m,beforeLeave:g})},theirProps:{},defaultTag:h.Fragment,features:Aa,visible:u==="visible",name:"Transition"})))}function ao(e,t){let r=h.useContext(cr)!==null,n=Hr()!==null;return h.createElement(h.Fragment,null,!r&&n?h.createElement(tn,{ref:t,...e}):h.createElement(Oa,{ref:t,...e}))}let tn=be(no),Oa=be(ro),so=be(ao),Ct=Object.assign(tn,{Child:so,Root:tn});function io({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}))}const lo=b.forwardRef(io);function oo({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const uo=b.forwardRef(oo);function co({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const fo=b.forwardRef(co);function ho({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const mo=b.forwardRef(ho);function po({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const go=b.forwardRef(po);function vo({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const yo=b.forwardRef(vo);function bo({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const rn=b.forwardRef(bo),wo=({isOpen:e,onClose:t,title:r,children:n,size:a="md"})=>{const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return f.jsx(Ct,{appear:!0,show:e,as:h.Fragment,children:f.jsxs(Et,{as:"div",className:"relative z-50",onClose:t,children:[f.jsx(Ct.Child,{as:h.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),f.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:f.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:f.jsx(Ct.Child,{as:h.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:f.jsxs(Et.Panel,{className:`w-full ${s[a]} transform overflow-hidden rounded-lg bg-white p-6 text-left align-middle shadow-xl transition-all`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx(Et.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:r}),f.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:t,children:[f.jsx("span",{className:"sr-only",children:"Close"}),f.jsx(rn,{className:"h-6 w-6","aria-hidden":"true"})]})]}),n]})})})})]})})},$a=({isOpen:e,onClose:t,title:r,children:n,width:a="max-w-md"})=>f.jsx(Ct.Root,{show:e,as:h.Fragment,children:f.jsxs(Et,{as:"div",className:"relative z-50",onClose:t,children:[f.jsx(Ct.Child,{as:h.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 transition-opacity"})}),f.jsx("div",{className:"fixed inset-0 overflow-hidden",children:f.jsx("div",{className:"absolute inset-0 overflow-hidden",children:f.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:f.jsx(Ct.Child,{as:h.Fragment,enter:"transform transition ease-in-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-300",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:f.jsx(Et.Panel,{className:`pointer-events-auto w-screen ${a}`,children:f.jsxs("div",{className:"flex h-full flex-col overflow-y-auto bg-white shadow-xl",children:[f.jsx("div",{className:"px-4 py-6 sm:px-6",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsx(Et.Title,{className:"text-lg font-medium text-gray-900",children:r}),f.jsx("div",{className:"ml-3 flex h-7 items-center",children:f.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:t,children:[f.jsx("span",{className:"sr-only",children:"Close panel"}),f.jsx(rn,{className:"h-6 w-6","aria-hidden":"true"})]})})]})}),f.jsx("div",{className:"relative flex-1 px-4 py-6 sm:px-6",children:n})]})})})})})})]})});var nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.parse=No,nn.serialize=To;const xo=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,_o=/^[\u0021-\u003A\u003C-\u007E]*$/,ko=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Eo=/^[\u0020-\u003A\u003D-\u007E]*$/,Co=Object.prototype.toString,So=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function No(e,t){const r=new So,n=e.length;if(n<2)return r;const a=(t==null?void 0:t.decode)||Fo;let s=0;do{const i=e.indexOf("=",s);if(i===-1)break;const l=e.indexOf(";",s),o=l===-1?n:l;if(i>o){s=e.lastIndexOf(";",i-1)+1;continue}const u=La(e,s,i),d=Pa(e,i,u),p=e.slice(u,d);if(r[p]===void 0){let y=La(e,i+1,o),N=Pa(e,o,y);const E=a(e.slice(y,N));r[p]=E}s=o+1}while(s<n);return r}function La(e,t,r){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function Pa(e,t,r){for(;t>r;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function To(e,t,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!xo.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=n(t);if(!_o.test(a))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+a;if(!r)return s;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);s+="; Max-Age="+r.maxAge}if(r.domain){if(!ko.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);s+="; Domain="+r.domain}if(r.path){if(!Eo.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);s+="; Path="+r.path}if(r.expires){if(!Ao(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return s}function Fo(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Ao(e){return Co.call(e)==="[object Date]"}/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ze(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function an({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Da(e,t,r="/"){return Oo(e,t,r,!1)}function Oo(e,t,r,n){let a=typeof t=="string"?sn(t):t,s=et(a.pathname||"/",r);if(s==null)return null;let i=Ia(e);$o(i);let l=null;for(let o=0;l==null&&o<i.length;++o){let u=zo(s);l=Uo(i[o],u,n)}return l}function Ia(e,t=[],r=[],n=""){let a=(s,i,l)=>{let o={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};o.relativePath.startsWith("/")&&(ce(o.relativePath.startsWith(n),`Absolute route path "${o.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(n.length));let u=ze([n,o.relativePath]),d=r.concat(o);s.children&&s.children.length>0&&(ce(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Ia(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:jo(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let o of Ma(s.path))a(s,i,o)}),t}function Ma(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=Ma(n.join("/")),l=[];return l.push(...i.map(o=>o===""?s:[s,o].join("/"))),a&&l.push(...i),l.map(o=>e.startsWith("/")&&o===""?"/":o)}function $o(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Bo(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Lo=/^:[\w-]+$/,Po=3,Do=2,Io=1,Mo=10,Vo=-2,Va=e=>e==="*";function jo(e,t){let r=e.split("/"),n=r.length;return r.some(Va)&&(n+=Vo),t&&(n+=Do),r.filter(a=>!Va(a)).reduce((a,s)=>a+(Lo.test(s)?Po:s===""?Io:Mo),n)}function Bo(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Uo(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let o=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",p=mr({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},d),y=o.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=mr({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},d)),!p)return null;Object.assign(a,p.params),i.push({params:a,pathname:ze([s,p.pathname]),pathnameBase:Yo(ze([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=ze([s,p.pathnameBase]))}return i}function mr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Zo(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:p},y)=>{if(d==="*"){let E=l[y]||"";i=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const N=l[y];return p&&!N?u[d]=void 0:u[d]=(N||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function Zo(e,t=!1,r=!0){Ze(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,o)=>(n.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function zo(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ze(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function et(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Wo(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?sn(e):e;return{pathname:r?r.startsWith("/")?r:Ho(r,t):t,search:Go(n),hash:Jo(a)}}function Ho(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ln(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qo(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ja(e){let t=qo(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Ba(e,t,r,n=!1){let a;typeof e=="string"?a=sn(e):(a={...e},ce(!a.pathname||!a.pathname.includes("?"),ln("?","pathname","search",a)),ce(!a.pathname||!a.pathname.includes("#"),ln("#","pathname","hash",a)),ce(!a.search||!a.search.includes("#"),ln("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let p=t.length-1;if(!n&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),p-=1;a.pathname=y.join("/")}l=p>=0?t[p]:"/"}let o=Wo(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(u||d)&&(o.pathname+="/"),o}var ze=e=>e.join("/").replace(/\/\/+/g,"/"),Yo=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Go=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jo=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ko(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Ua=["POST","PUT","PATCH","DELETE"];new Set(Ua);var Xo=["GET",...Ua];new Set(Xo);var St=b.createContext(null);St.displayName="DataRouter";var pr=b.createContext(null);pr.displayName="DataRouterState";var Za=b.createContext({isTransitioning:!1});Za.displayName="ViewTransition";var Qo=b.createContext(new Map);Qo.displayName="Fetchers";var Ro=b.createContext(null);Ro.displayName="Await";var We=b.createContext(null);We.displayName="Navigation";var on=b.createContext(null);on.displayName="Location";var He=b.createContext({outlet:null,matches:[],isDataRoute:!1});He.displayName="Route";var un=b.createContext(null);un.displayName="RouteError";function eu(e,{relative:t}={}){ce(gr(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(We),{hash:a,pathname:s,search:i}=Zt(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:ze([r,s])),n.createHref({pathname:l,search:i,hash:a})}function gr(){return b.useContext(on)!=null}function ft(){return ce(gr(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(on).location}var za="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wa(e){b.useContext(We).static||b.useLayoutEffect(e)}function Ha(){let{isDataRoute:e}=b.useContext(He);return e?hu():tu()}function tu(){ce(gr(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(St),{basename:t,navigator:r}=b.useContext(We),{matches:n}=b.useContext(He),{pathname:a}=ft(),s=JSON.stringify(ja(n)),i=b.useRef(!1);return Wa(()=>{i.current=!0}),b.useCallback((o,u={})=>{if(Ze(i.current,za),!i.current)return;if(typeof o=="number"){r.go(o);return}let d=Ba(o,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ze([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,a,e])}b.createContext(null);function Zt(e,{relative:t}={}){let{matches:r}=b.useContext(He),{pathname:n}=ft(),a=JSON.stringify(ja(r));return b.useMemo(()=>Ba(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function ru(e,t,r,n){ce(gr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(We),{matches:s}=b.useContext(He),i=s[s.length-1],l=i?i.params:{},o=i?i.pathname:"/",u=i?i.pathnameBase:"/",d=i&&i.route;{let m=d&&d.path||"";Ya(o,!d||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${o}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let p=ft(),y;y=p;let N=y.pathname||"/",E=N;if(u!=="/"){let m=u.replace(/^\//,"").split("/");E="/"+N.replace(/^\//,"").split("/").slice(m.length).join("/")}let _=Da(e,{pathname:E});return Ze(d||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ze(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),lu(_&&_.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:ze([u,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:ze([u,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,r,n)}function nu(){let e=fu(),t=Ko(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,i)}var au=b.createElement(nu,null),su=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(He.Provider,{value:this.props.routeContext},b.createElement(un.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iu({routeContext:e,match:t,children:r}){let n=b.useContext(St);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(He.Provider,{value:e},r)}function lu(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let o=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);ce(o>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,o+1))}let i=!1,l=-1;if(r)for(let o=0;o<a.length;o++){let u=a[o];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=o),u.route.id){let{loaderData:d,errors:p}=r,y=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||y){i=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((o,u,d)=>{let p,y=!1,N=null,E=null;r&&(p=s&&u.route.id?s[u.route.id]:void 0,N=u.route.errorElement||au,i&&(l<0&&d===0?(Ya("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):l===d&&(y=!0,E=u.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,d+1)),S=()=>{let m;return p?m=N:y?m=E:u.route.Component?m=b.createElement(u.route.Component,null):u.route.element?m=u.route.element:m=o,b.createElement(iu,{match:u,routeContext:{outlet:o,matches:_,isDataRoute:r!=null},children:m})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?b.createElement(su,{location:r.location,revalidation:r.revalidation,component:N,error:p,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}function dn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ou(e){let t=b.useContext(St);return ce(t,dn(e)),t}function uu(e){let t=b.useContext(pr);return ce(t,dn(e)),t}function du(e){let t=b.useContext(He);return ce(t,dn(e)),t}function cn(e){let t=du(e),r=t.matches[t.matches.length-1];return ce(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function cu(){return cn("useRouteId")}function fu(){var n;let e=b.useContext(un),t=uu("useRouteError"),r=cn("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function hu(){let{router:e}=ou("useNavigate"),t=cn("useNavigate"),r=b.useRef(!1);return Wa(()=>{r.current=!0}),b.useCallback(async(a,s={})=>{Ze(r.current,za),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var qa={};function Ya(e,t,r){!t&&!qa[e]&&(qa[e]=!0,Ze(!1,r))}b.memo(mu);function mu({routes:e,future:t,state:r}){return ru(e,void 0,r,t)}var vr="get",yr="application/x-www-form-urlencoded";function br(e){return e!=null&&typeof e.tagName=="string"}function pu(e){return br(e)&&e.tagName.toLowerCase()==="button"}function gu(e){return br(e)&&e.tagName.toLowerCase()==="form"}function vu(e){return br(e)&&e.tagName.toLowerCase()==="input"}function yu(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bu(e,t){return e.button===0&&(!t||t==="_self")&&!yu(e)}var wr=null;function wu(){if(wr===null)try{new FormData(document.createElement("form"),0),wr=!1}catch{wr=!0}return wr}var xu=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fn(e){return e!=null&&!xu.has(e)?(Ze(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yr}"`),null):e}function _u(e,t){let r,n,a,s,i;if(gu(e)){let l=e.getAttribute("action");n=l?et(l,t):null,r=e.getAttribute("method")||vr,a=fn(e.getAttribute("enctype"))||yr,s=new FormData(e)}else if(pu(e)||vu(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||l.getAttribute("action");if(n=o?et(o,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||vr,a=fn(e.getAttribute("formenctype"))||fn(l.getAttribute("enctype"))||yr,s=new FormData(l,e),!wu()){let{name:u,type:d,value:p}=e;if(d==="image"){let y=u?`${u}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else u&&s.append(u,p)}}else{if(br(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vr,n=null,a=yr,i=e}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function ku(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Eu(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Cu(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let i=await ku(s,r);return i.links?i.links():[]}return[]}));return Fu(n.flat(1).filter(Eu).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ga(e,t,r,n,a,s){let i=(o,u)=>r[u]?o.route.id!==r[u].route.id:!0,l=(o,u)=>{var d;return r[u].pathname!==o.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==o.params["*"]};return s==="assets"?t.filter((o,u)=>i(o,u)||l(o,u)):s==="data"?t.filter((o,u)=>{var p;let d=n.routes[o.route.id];if(!d||!d.hasLoader)return!1;if(i(o,u)||l(o,u))return!0;if(o.route.shouldRevalidate){let y=o.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Su(e,t,{includeHydrateFallback:r}={}){return Nu(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Nu(e){return[...new Set(e)]}function Tu(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Fu(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(Tu(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Au=new Set([100,101,204,205]);function Ou(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&et(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Ja(){let e=b.useContext(St);return hn(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $u(){let e=b.useContext(pr);return hn(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mn=b.createContext(void 0);mn.displayName="FrameworkContext";function Ka(){let e=b.useContext(mn);return hn(e,"You must render this element inside a <HydratedRouter> element"),e}function Lu(e,t){let r=b.useContext(mn),[n,a]=b.useState(!1),[s,i]=b.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=t,y=b.useRef(null);b.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let _=m=>{m.forEach(g=>{i(g.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),b.useEffect(()=>{if(n){let _=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(_)}}},[n]);let N=()=>{a(!0)},E=()=>{a(!1),i(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:zt(l,N),onBlur:zt(o,E),onMouseEnter:zt(u,N),onMouseLeave:zt(d,E),onTouchStart:zt(p,N)}]:[!1,y,{}]}function zt(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Pu({page:e,...t}){let{router:r}=Ja(),n=b.useMemo(()=>Da(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?b.createElement(Iu,{page:e,matches:n,...t}):null}function Du(e){let{manifest:t,routeModules:r}=Ka(),[n,a]=b.useState([]);return b.useEffect(()=>{let s=!1;return Cu(e,t,r).then(i=>{s||a(i)}),()=>{s=!0}},[e,t,r]),n}function Iu({page:e,matches:t,...r}){let n=ft(),{manifest:a,routeModules:s}=Ka(),{basename:i}=Ja(),{loaderData:l,matches:o}=$u(),u=b.useMemo(()=>Ga(e,t,o,a,n,"data"),[e,t,o,a,n]),d=b.useMemo(()=>Ga(e,t,o,a,n,"assets"),[e,t,o,a,n]),p=b.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let E=new Set,_=!1;if(t.forEach(m=>{var w;let g=a.routes[m.route.id];!g||!g.hasLoader||(!u.some(A=>A.route.id===m.route.id)&&m.route.id in l&&((w=s[m.route.id])!=null&&w.shouldRevalidate)||g.hasClientLoader?_=!0:E.add(m.route.id))}),E.size===0)return[];let S=Ou(e,i);return _&&E.size>0&&S.searchParams.set("_routes",t.filter(m=>E.has(m.route.id)).map(m=>m.route.id).join(",")),[S.pathname+S.search]},[i,l,n,a,u,t,e,s]),y=b.useMemo(()=>Su(d,a),[d,a]),N=Du(d);return b.createElement(b.Fragment,null,p.map(E=>b.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),y.map(E=>b.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),N.map(({key:E,link:_})=>b.createElement("link",{key:E,..._})))}function Mu(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Xa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xa&&(window.__reactRouterVersion="7.6.2")}catch{}var Qa=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ra=b.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:o,to:u,preventScrollReset:d,viewTransition:p,...y},N){let{basename:E}=b.useContext(We),_=typeof u=="string"&&Qa.test(u),S,m=!1;if(typeof u=="string"&&_&&(S=u,Xa))try{let $=new URL(window.location.href),L=u.startsWith("//")?new URL($.protocol+u):new URL(u),Z=et(L.pathname,E);L.origin===$.origin&&Z!=null?u=Z+L.search+L.hash:m=!0}catch{Ze(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=eu(u,{relative:a}),[w,A,V]=Lu(n,y),k=Uu(u,{replace:i,state:l,target:o,preventScrollReset:d,relative:a,viewTransition:p});function O($){t&&t($),$.defaultPrevented||k($)}let C=b.createElement("a",{...y,...V,href:S||g,onClick:m||s?t:O,ref:Mu(N,A),target:o,"data-discover":!_&&r==="render"?"true":void 0});return w&&!_?b.createElement(b.Fragment,null,C,b.createElement(Pu,{page:g})):C});Ra.displayName="Link";var Vu=b.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:o,...u},d){let p=Zt(i,{relative:u.relative}),y=ft(),N=b.useContext(pr),{navigator:E,basename:_}=b.useContext(We),S=N!=null&&qu(p)&&l===!0,m=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,g=y.pathname,w=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(g=g.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase()),w&&_&&(w=et(w,_)||w);const A=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let V=g===m||!a&&g.startsWith(m)&&g.charAt(A)==="/",k=w!=null&&(w===m||!a&&w.startsWith(m)&&w.charAt(m.length)==="/"),O={isActive:V,isPending:k,isTransitioning:S},C=V?t:void 0,$;typeof n=="function"?$=n(O):$=[n,V?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(O):s;return b.createElement(Ra,{...u,"aria-current":C,className:$,ref:d,style:L,to:i,viewTransition:l},typeof o=="function"?o(O):o)});Vu.displayName="NavLink";var ju=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:i=vr,action:l,onSubmit:o,relative:u,preventScrollReset:d,viewTransition:p,...y},N)=>{let E=Wu(),_=Hu(l,{relative:u}),S=i.toLowerCase()==="get"?"get":"post",m=typeof l=="string"&&Qa.test(l),g=w=>{if(o&&o(w),w.defaultPrevented)return;w.preventDefault();let A=w.nativeEvent.submitter,V=(A==null?void 0:A.getAttribute("formmethod"))||i;E(A||w.currentTarget,{fetcherKey:t,method:V,navigate:r,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:p})};return b.createElement("form",{ref:N,method:S,action:_,onSubmit:n?o:g,...y,"data-discover":!m&&e==="render"?"true":void 0})});ju.displayName="Form";function Bu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function es(e){let t=b.useContext(St);return ce(t,Bu(e)),t}function Uu(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:i}={}){let l=Ha(),o=ft(),u=Zt(e,{relative:s});return b.useCallback(d=>{if(bu(d,t)){d.preventDefault();let p=r!==void 0?r:an(o)===an(u);l(e,{replace:p,state:n,preventScrollReset:a,relative:s,viewTransition:i})}},[o,l,u,r,n,t,e,a,s,i])}var Zu=0,zu=()=>`__${String(++Zu)}__`;function Wu(){let{router:e}=es("useSubmit"),{basename:t}=b.useContext(We),r=cu();return b.useCallback(async(n,a={})=>{let{action:s,method:i,encType:l,formData:o,body:u}=_u(n,t);if(a.navigate===!1){let d=a.fetcherKey||zu();await e.fetch(d,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:o,body:u,formMethod:a.method||i,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:o,body:u,formMethod:a.method||i,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function Hu(e,{relative:t}={}){let{basename:r}=b.useContext(We),n=b.useContext(He);ce(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Zt(e||".",{relative:t})},i=ft();if(e==null){s.search=i.search;let l=new URLSearchParams(s.search),o=l.getAll("index");if(o.some(d=>d==="")){l.delete("index"),o.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ze([r,s.pathname])),an(s)}function qu(e,t={}){let r=b.useContext(Za);ce(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=es("useViewTransitionState"),a=Zt(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=et(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=et(r.nextLocation.pathname,n)||r.nextLocation.pathname;return mr(a.pathname,i)!=null||mr(a.pathname,s)!=null}[...Au];const Yu=({schema:e,mode:t,isOpen:r,onClose:n,onSubmit:a,defaultValues:s,isSubmitting:i=!1})=>{var N,E;const l=Ha(),o=((N=e.displayConfig)==null?void 0:N.mode)||"dialog",u=((E=e.displayConfig)==null?void 0:E.width)||(o==="dialog"?"md":"max-w-md"),d=()=>{var _;return(_=e.displayConfig)!=null&&_.title?e.displayConfig.title[t]||`${t.charAt(0).toUpperCase()+t.slice(1)} Form`:`${t.charAt(0).toUpperCase()+t.slice(1)} Form`},p=_=>{var S;a(_),(S=e.displayConfig)!=null&&S.redirectAfterSubmit&&e.displayConfig.redirectPath&&l(e.displayConfig.redirectPath)},y=()=>{var _,S,m;return f.jsx(la,{schema:e,mode:t,onSubmit:p,onCancel:n,defaultValues:s,isSubmitting:i,submitLabel:(S=(_=e.displayConfig)==null?void 0:_.submitLabel)==null?void 0:S[t],cancelLabel:(m=e.displayConfig)==null?void 0:m.cancelLabel})};return o==="page"?f.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:[f.jsx("h1",{className:"text-2xl font-bold mb-6",children:d()}),f.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:y()})]}):o==="sidepanel"?f.jsx($a,{isOpen:r,onClose:n,title:d(),width:typeof u=="string"?u:"max-w-md",children:y()}):f.jsx(wo,{isOpen:r,onClose:n,title:d(),size:typeof u=="string"?"lg":u,children:y()})},Gu=({onSave:e,initialSchema:t})=>{const[r,n]=h.useState((t==null?void 0:t.fields)||[]),[a,s]=h.useState(null),[i,l]=h.useState(!1),[o,u]=h.useState([]),[d,p]=h.useState(null),y=[{value:"text",label:"Text"},{value:"email",label:"Email"},{value:"password",label:"Password"},{value:"number",label:"Number"},{value:"select",label:"Select"},{value:"textarea",label:"Textarea"},{value:"checkbox",label:"Checkbox"},{value:"radio",label:"Radio"},{value:"date",label:"Date"}],N=()=>{s({name:"",label:"",type:"text",placeholder:"",required:!1}),u([]),l(!1),p(null)},E=()=>{N()},_=C=>{const $=r[C];s($),u($.options||[]),l(!0),p(C)},S=C=>{n(r.filter(($,L)=>L!==C))},m=(C,$)=>{if($==="up"&&C===0||$==="down"&&C===r.length-1)return;const L=[...r],Z=$==="up"?C-1:C+1;[L[C],L[Z]]=[L[Z],L[C]],n(L)},g=()=>{if(!a||!a.name||!a.label)return;const C={...a};if(["select","radio"].includes(a.type)&&o.length>0&&(C.options=[...o]),a.required&&(C.validation={...C.validation,required:`${a.label} is required`}),i&&d!==null){const $=[...r];$[d]=C,n($)}else n([...r,C]);N()},w=()=>{u([...o,{value:"",label:""}])},A=(C,$,L)=>{const Z=[...o];Z[C]={...Z[C],[$]:L},u(Z)},V=C=>{u(o.filter(($,L)=>L!==C))},k=()=>{e({fields:r})},O=C=>C?C.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,($,L)=>L.toUpperCase()).replace(/[^a-zA-Z0-9]/g,"").replace(/^[A-Z]/,$=>$.toLowerCase()):"";return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[f.jsx("h2",{className:"text-lg font-medium mb-4",children:"Form Fields"}),r.length===0?f.jsx("div",{className:"text-center py-8 text-gray-500",children:'No fields added yet. Click "Add Field" to start building your form.'}):f.jsx("div",{className:"space-y-2",children:r.map((C,$)=>f.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:C.label}),f.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",C.type,")"]})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(ie,{size:"sm",variant:"outline",onClick:()=>m($,"up"),disabled:$===0,children:""}),f.jsx(ie,{size:"sm",variant:"outline",onClick:()=>m($,"down"),disabled:$===r.length-1,children:""}),f.jsx(ie,{size:"sm",variant:"outline",onClick:()=>_($),children:"Edit"}),f.jsx(ie,{size:"sm",variant:"danger",onClick:()=>S($),children:"Delete"})]})]},$))}),f.jsx("div",{className:"mt-4",children:f.jsx(ie,{onClick:E,children:"Add Field"})})]}),a&&f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[f.jsx("h2",{className:"text-lg font-medium mb-4",children:i?"Edit Field":"Add New Field"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(ye,{label:"Field Label",value:a.label,onChange:C=>{const $=C.target.value;s({...a,label:$,name:i?a.name:O($)})},placeholder:"e.g. First Name"}),f.jsx(ye,{label:"Field Name (ID)",value:a.name,onChange:C=>s({...a,name:C.target.value}),placeholder:"e.g. firstName",helperText:"Unique identifier for this field"}),f.jsx(xt,{label:"Field Type",value:a.type,onChange:C=>s({...a,type:C.target.value}),options:y}),f.jsx(ye,{label:"Placeholder",value:a.placeholder||"",onChange:C=>s({...a,placeholder:C.target.value}),placeholder:"e.g. Enter your first name"}),f.jsx(ye,{label:"Helper Text",value:a.helperText||"",onChange:C=>s({...a,helperText:C.target.value}),placeholder:"e.g. This will be displayed on your profile"}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",id:"required",checked:a.required||!1,onChange:C=>s({...a,required:C.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),f.jsx("label",{htmlFor:"required",className:"ml-2 block text-sm text-gray-900",children:"Required Field"})]}),["select","radio"].includes(a.type)&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-sm font-medium",children:"Options"}),f.jsx(ie,{size:"sm",onClick:w,children:"Add Option"})]}),o.map((C,$)=>f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(ye,{value:C.value,onChange:L=>A($,"value",L.target.value),placeholder:"Value",className:"flex-1"}),f.jsx(ye,{value:C.label,onChange:L=>A($,"label",L.target.value),placeholder:"Label",className:"flex-1"}),f.jsx(ie,{size:"sm",variant:"danger",onClick:()=>V($),children:"Remove"})]},$))]}),f.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[f.jsx(ie,{variant:"outline",onClick:N,children:"Cancel"}),f.jsx(ie,{onClick:g,children:i?"Update Field":"Add Field"})]})]})]}),r.length>0&&f.jsx("div",{className:"flex justify-end",children:f.jsx(ie,{onClick:k,children:"Save Form"})})]})},Ju=({children:e,variant:t="default",className:r=""})=>{const n={success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",default:"bg-gray-100 text-gray-800"};return f.jsx("span",{className:`
        inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium
        ${n[t]}
        ${r}
      `,children:e})},ts=({filters:e,onFilterChange:t})=>{const[r,n]=h.useState([]),[a,s]=h.useState(""),[i,l]=h.useState({}),[o,u]=h.useState({});h.useEffect(()=>{const m=e.filter(g=>g.defaultValue!==void 0).map(g=>({filterId:g.id,operator:g.defaultOperator||d(g.type),value:g.defaultValue}));m.length>0&&(n(m),t(m)),e.forEach(async g=>{if(g.dataSource&&g.dataSource.type==="api"){u(w=>({...w,[g.id]:!0}));try{const w=await Mr(g.dataSource);l(A=>({...A,[g.id]:w}))}finally{u(w=>({...w,[g.id]:!1}))}}})},[e]);const d=m=>{switch(m){case"number":case"date":return"equals";case"select":return"equals";case"checkbox":return"equals";default:return"contains"}},p=m=>{const g={equals:"Equals",contains:"Contains",startsWith:"Starts with",endsWith:"Ends with",greaterThan:"Greater than",lessThan:"Less than",between:"Between",in:"In list"};return m.map(w=>({value:w,label:g[w]}))},y=()=>{if(!a)return;const m=e.find(A=>A.id===a);if(!m)return;const g={filterId:a,operator:m.defaultOperator||d(m.type),value:m.type==="checkbox"?!0:""},w=[...r,g];n(w),t(w),s("")},N=m=>{const g=r.filter((w,A)=>A!==m);n(g),t(g)},E=(m,g,w)=>{const A=[...r];A[m]={...A[m],[g]:w},g==="operator"&&A[m].operator!=="between"&&(A[m].secondValue=void 0),n(A),t(A)},_=(m,g)=>{const w=e.find(A=>A.id===m.filterId);if(!w)return null;switch(w.type){case"select":const A=i[w.id]||w.options||[],V=o[w.id]||!1;return f.jsx(xt,{options:A,value:m.value,onChange:k=>E(g,"value",k.target.value),className:"w-full",isLoading:V});case"checkbox":return f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",checked:m.value,onChange:k=>E(g,"value",k.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),f.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:m.value?"Yes":"No"})]});case"date":return f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(ye,{type:"date",value:m.value,onChange:k=>E(g,"value",k.target.value),className:"w-full"}),m.operator==="between"&&f.jsx(ye,{type:"date",value:m.secondValue||"",onChange:k=>E(g,"secondValue",k.target.value),className:"w-full",placeholder:"End date"})]});case"number":return f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(ye,{type:"number",value:m.value,onChange:k=>E(g,"value",k.target.value),className:"w-full"}),m.operator==="between"&&f.jsx(ye,{type:"number",value:m.secondValue||"",onChange:k=>E(g,"secondValue",k.target.value),className:"w-full",placeholder:"Max value"})]});default:return f.jsx(ye,{type:"text",value:m.value,onChange:k=>E(g,"value",k.target.value),className:"w-full",placeholder:`Filter by ${w.label.toLowerCase()}`})}},S=e.filter(m=>!r.some(g=>g.filterId===m.id));return f.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4",children:f.jsxs("div",{className:"space-y-4",children:[r.map((m,g)=>{const w=e.find(A=>A.id===m.filterId);return w?f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-1/4",children:f.jsx("span",{className:"text-sm font-medium text-gray-700",children:w.label})}),f.jsx("div",{className:"w-1/4",children:f.jsx(xt,{options:p(w.operators),value:m.operator,onChange:A=>E(g,"operator",A.target.value),className:"w-full"})}),f.jsx("div",{className:"flex-1",children:_(m,g)}),f.jsx(ie,{variant:"outline",size:"sm",onClick:()=>N(g),className:"flex-shrink-0",children:f.jsx(rn,{className:"h-4 w-4"})})]},g):null}),S.length>0&&f.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[f.jsx(xt,{options:S.map(m=>({value:m.id,label:m.label})),value:a,onChange:m=>s(m.target.value),className:"w-full",placeholder:"Add filter"}),f.jsxs(ie,{onClick:y,disabled:!a,size:"sm",children:[f.jsx(yo,{className:"h-4 w-4 mr-1"}),"Add Filter"]})]})]})})},rs=({schema:e,data:t,isLoading:r=!1,emptyMessage:n="No data available",onRowClick:a})=>{const[s,i]=h.useState([]),[l,o]=h.useState(e.defaultSortField?{field:e.defaultSortField,direction:e.defaultSortDirection||"asc"}:null),[u,d]=h.useState(!1),p=h.useMemo(()=>l?[...t].sort((m,g)=>{const w=e.columns.find(O=>typeof O.accessor=="string"&&O.accessor===l.field);if(!w||typeof w.accessor!="string")return 0;const A=m[w.accessor],V=g[w.accessor];if(A===V)return 0;if(A==null&&V!=null)return l.direction==="asc"?-1:1;if(A!=null&&V==null)return l.direction==="asc"?1:-1;if(A==null&&V==null)return 0;const k=l.direction==="asc"?1:-1;return w.type==="number"?(Number(A)-Number(V))*k:w.type==="date"?(new Date(A).getTime()-new Date(V).getTime())*k:String(A).localeCompare(String(V))*k}):[...t],[t,l]),y=h.useMemo(()=>s.length===0?p:p.filter(m=>s.every(g=>{var k;const w=(k=e.filters)==null?void 0:k.find(O=>O.id===g.filterId);if(!w)return!0;const A=w.accessor,V=m[A];if(V==null)return g.value===""||g.value===null;switch(g.operator){case"equals":return w.type==="checkbox"?V===g.value:String(V).toLowerCase()===String(g.value).toLowerCase();case"contains":return String(V).toLowerCase().includes(String(g.value).toLowerCase());case"startsWith":return String(V).toLowerCase().startsWith(String(g.value).toLowerCase());case"endsWith":return String(V).toLowerCase().endsWith(String(g.value).toLowerCase());case"greaterThan":return w.type==="date"?new Date(V)>new Date(g.value):Number(V)>Number(g.value);case"lessThan":return w.type==="date"?new Date(V)<new Date(g.value):Number(V)<Number(g.value);case"between":if(w.type==="date"){const O=new Date(V).getTime();return O>=new Date(g.value).getTime()&&O<=new Date(g.secondValue).getTime()}return Number(V)>=Number(g.value)&&Number(V)<=Number(g.secondValue);case"in":return Array.isArray(g.value)?g.value.includes(V):!1;default:return!0}})),[p,s,e.filters]),N=m=>{typeof m.accessor!="string"||!m.sortable||o(g=>!g||g.field!==m.accessor?{field:m.accessor,direction:"asc"}:g.direction==="asc"?{field:m.accessor,direction:"desc"}:null)},E=m=>{i(m)},_=(m,g)=>{if(typeof g.accessor=="function")return g.accessor(m);const w=m[g.accessor];if(w==null)return g.format?g.format(w):"-";if(g.format)try{return g.format(w)}catch(A){return console.error(`Error formatting value for column ${g.id}:`,A),"-"}switch(g.type){case"date":try{return w?new Date(w).toLocaleDateString():"-"}catch{return"-"}case"boolean":return w?"Yes":"No";case"badge":if(g.badgeOptions&&w){const A=g.badgeOptions[w];if(A)return f.jsx(Ju,{variant:A.variant,children:A.label||w})}return w;default:return w}},S=m=>{if(!e.actions||e.actions.length===0)return null;const{hasPermission:g}=Ir();return f.jsx("div",{className:"flex space-x-2",children:e.actions.map((w,A)=>w.showCondition&&!w.showCondition(m)||w.permission&&!g(w.permission)?null:f.jsx(ie,{size:"sm",variant:w.variant||"primary",onClick:V=>{V.stopPropagation(),w.onClick(m)},children:w.label},A))})};return r?f.jsx("div",{className:"min-w-full overflow-hidden rounded-lg border border-gray-200",children:f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):f.jsxs("div",{className:"space-y-4",children:[e.filters&&e.filters.length>0&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsxs("h3",{className:"text-lg font-medium",children:[y.length," ",y.length===1?"result":"results"]}),f.jsx(ie,{variant:"outline",onClick:()=>d(!u),children:u?"Hide Filters":"Show Filters"})]}),u&&f.jsx(ts,{filters:e.filters,onFilterChange:E})]}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:y.length===0?f.jsx("div",{className:"flex justify-center items-center h-64 text-gray-500",children:n}):f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[e.columns.map((m,g)=>f.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${m.className||""}`,style:{width:m.width},onClick:()=>m.sortable&&N(m),children:f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx("span",{children:m.header}),m.sortable&&typeof m.accessor=="string"&&f.jsxs("span",{className:"inline-flex flex-col",children:[f.jsx(mo,{className:`h-3 w-3 ${(l==null?void 0:l.field)===m.accessor&&(l==null?void 0:l.direction)==="asc"?"text-blue-600":"text-gray-400"}`}),f.jsx(fo,{className:`h-3 w-3 -mt-1 ${(l==null?void 0:l.field)===m.accessor&&(l==null?void 0:l.direction)==="desc"?"text-blue-600":"text-gray-400"}`})]})]})},g)),e.actions&&e.actions.length>0&&f.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(m=>f.jsxs("tr",{className:a?"hover:bg-gray-50 cursor-pointer":"",onClick:()=>a&&a(m),children:[e.columns.map((g,w)=>f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 ${g.className||""}`,children:_(m,g)},w)),e.actions&&e.actions.length>0&&f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:S(m)})]},m[e.keyField]))})]})})]})},Ku=({schema:e,data:t,isLoading:r=!1,emptyMessage:n="No data available",onRowClick:a})=>{var C,$;const[s,i]=h.useState(!1),[l,o]=h.useState([]),[u,d]=h.useState([...t]),[p,y]=h.useState(!1),[N,E]=h.useState(!1);h.useEffect(()=>{s||d([...t])},[t,s]);const _=L=>{const Z=l.some(M=>M[e.keyField]===L[e.keyField]);o(Z?l.filter(M=>M[e.keyField]!==L[e.keyField]):[...l,L])},S=()=>{l.length===t.length?o([]):o([...t])},m=()=>{i(!0)},g=async()=>{var L;if((L=e.bulkEditConfig)!=null&&L.saveAction){y(!0);try{await e.bulkEditConfig.saveAction(u),i(!1),E(!1),o([])}catch(Z){console.error("Error saving bulk edit:",Z)}finally{y(!1)}}},w=()=>{var L;i(!1),E(!1),d([...t]),o([]),(L=e.bulkEditConfig)!=null&&L.cancelAction&&e.bulkEditConfig.cancelAction()},A=(L,Z,M)=>{const W=[...u];W[L][Z]=M,d(W)},V=()=>{E(!N)},k=(L,Z)=>{if(Z==="up"&&L===0||Z==="down"&&L===u.length-1)return;const M=[...u],W=Z==="up"?L-1:L+1;[M[L],M[W]]=[M[W],M[L]],d(M)},O={...e,columns:[{id:"selection",header:f.jsx("input",{type:"checkbox",checked:l.length===t.length&&t.length>0,onChange:S,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),accessor:L=>f.jsx("input",{type:"checkbox",checked:l.some(Z=>Z[e.keyField]===L[e.keyField]),onChange:Z=>{Z.stopPropagation(),_(L)},className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),type:"text",width:"40px"},...e.columns,...N?[{id:"reorder",header:"",accessor:(L,Z)=>f.jsxs("div",{className:"flex space-x-1",children:[f.jsx("button",{onClick:M=>{M.stopPropagation(),typeof Z=="number"&&k(Z,"up")},className:"p-1 text-gray-500 hover:text-gray-700",disabled:typeof Z=="number"&&Z===0,children:""}),f.jsx("button",{onClick:M=>{M.stopPropagation(),typeof Z=="number"&&k(Z,"down")},className:"p-1 text-gray-500 hover:text-gray-700",disabled:typeof Z=="number"&&Z===u.length-1,children:""})]}),type:"text",width:"80px"}]:[]]};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("div",{children:l.length>0&&f.jsxs("span",{className:"text-sm text-gray-600",children:[l.length," ",l.length===1?"item":"items"," selected"]})}),f.jsxs("div",{className:"flex space-x-2",children:[!s&&((C=e.features)==null?void 0:C.bulkEdit)&&l.length>0&&f.jsxs(ie,{onClick:m,children:[f.jsx(go,{className:"h-4 w-4 mr-1"}),"Edit Selected"]}),s&&(($=e.features)==null?void 0:$.reordering)&&f.jsxs(ie,{variant:N?"secondary":"outline",onClick:V,children:[f.jsx(lo,{className:"h-4 w-4 mr-1"}),N?"Exit Reorder":"Reorder Rows"]}),s&&f.jsxs(f.Fragment,{children:[f.jsx(ie,{variant:"outline",onClick:w,children:"Cancel"}),f.jsxs(ie,{onClick:g,isLoading:p,children:[f.jsx(uo,{className:"h-4 w-4 mr-1"}),"Save Changes"]})]})]})]}),f.jsx(rs,{schema:O,data:u,isLoading:r,emptyMessage:n,onRowClick:a,editMode:s,onFieldChange:A})]})};de.BulkEditTable=Ku,de.DynamicForm=la,de.DynamicTable=rs,de.FilterPanel=ts,de.FormBuilder=Gu,de.FormContainer=Yu,de.PermissionProvider=ui,de.SidePanel=$a,de.usePermissions=Ir,Object.defineProperty(de,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=react-dynamic-forms-tables.umd.js.map
