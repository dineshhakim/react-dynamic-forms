{% extends "base.html" %}

{% block extrahead %}
  <link rel="stylesheet" href="{{ 'assets/css/custom.css' | url }}">
{% endblock %}

{% block content %}
  {{ super() }}
  <div class="quick-links-container">
    <button id="toggleQuickLinks" class="toggle-quick-links">
      <span class="toggle-icon">›</span>
    </button>
    <div id="quickLinks" class="quick-links">
      <h3>Quick Links</h3>
      <ul>
        <li><a href="{{ 'getting-started/' | url }}">Getting Started</a></li>
        <li><a href="{{ 'dynamic-forms/' | url }}">Dynamic Forms</a></li>
        <li><a href="{{ 'dynamic-tables/' | url }}">Dynamic Tables</a></li>
        <li><a href="{{ 'permissions/' | url }}">Permission System</a></li>
        <li><a href="{{ 'api-reference/' | url }}">API Reference</a></li>
        <li><a href="{{ 'examples/' | url }}">Examples</a></li>
      </ul>
      <h3>Components</h3>
      <ul>
        <li><a href="{{ 'api-reference/#dynamicform' | url }}">DynamicForm</a></li>
        <li><a href="{{ 'api-reference/#formcontainer' | url }}">FormContainer</a></li>
        <li><a href="{{ 'api-reference/#dynamictable' | url }}">DynamicTable</a></li>
        <li><a href="{{ 'api-reference/#formbuilder' | url }}">FormBuilder</a></li>
        <li><a href="{{ 'api-reference/#permissionprovider' | url }}">PermissionProvider</a></li>
        <li><a href="{{ 'api-reference/#button' | url }}">Button</a></li>
      </ul>
      <h3>Examples</h3>
      <ul>
        <li><a href="{{ 'examples/#basic-contact-form' | url }}">Contact Form</a></li>
        <li><a href="{{ 'examples/#product-management-table' | url }}">Product Table</a></li>
        <li><a href="{{ 'examples/#user-registration-form-with-side-panel' | url }}">User Registration</a></li>
        <li><a href="{{ 'examples/#event-management-with-permissions' | url }}">Event Management</a></li>
      </ul>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const toggleButton = document.getElementById('toggleQuickLinks');
      const quickLinks = document.getElementById('quickLinks');
      const toggleIcon = document.querySelector('.toggle-icon');
      
      // Check if the quick links panel state is stored in localStorage
      const isQuickLinksOpen = localStorage.getItem('quickLinksOpen') === 'true';
      
      // Set initial state
      if (isQuickLinksOpen) {
        quickLinks.classList.add('open');
        toggleIcon.textContent = '‹';
      } else {
        quickLinks.classList.remove('open');
        toggleIcon.textContent = '›';
      }
      
      toggleButton.addEventListener('click', function() {
        quickLinks.classList.toggle('open');
        const isOpen = quickLinks.classList.contains('open');
        toggleIcon.textContent = isOpen ? '‹' : '›';
        
        // Store the state in localStorage
        localStorage.setItem('quickLinksOpen', isOpen);
      });
    });
  </script>
{% endblock %}
